!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.less=e()}}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(require,module,exports){var e=require("./utils").addDataAttr,t=require("./browser");module.exports=function(n,i){e(i,t.currentScript(n)),void 0===i.isFileProtocol&&(i.isFileProtocol=/^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(n.location.protocol)),i.async=i.async||!1,i.fileAsync=i.fileAsync||!1,i.poll=i.poll||(i.isFileProtocol?1e3:1500),i.env=i.env||("127.0.0.1"==n.location.hostname||"0.0.0.0"==n.location.hostname||"localhost"==n.location.hostname||n.location.port&&n.location.port.length>0||i.isFileProtocol?"development":"production");var r=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(n.location.hash);r&&(i.dumpLineNumbers=r[1]),void 0===i.useFileCache&&(i.useFileCache=!0),void 0===i.onReady&&(i.onReady=!0)}},{"./browser":3,"./utils":10}],2:[function(require,module,exports){function e(e){e.filename&&console.warn(e),t.async||r.removeChild(o)}require("promise/polyfill.js");var t=window.less||{};require("./add-default-options")(window,t);var n=module.exports=require("./index")(window,t);window.less=n;var i,r,o;t.onReady&&(/!watch/.test(window.location.hash)&&n.watch(),t.async||(i="body { display: none !important }",r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style"),o.type="text/css",o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),r.appendChild(o)),n.registerStylesheetsImmediately(),n.pageLoadFinished=n.refresh("development"===n.env).then(e,e))},{"./add-default-options":1,"./index":8,"promise/polyfill.js":97}],3:[function(require,module,exports){var e=require("./utils");module.exports={createCSS:function(t,n,i){var r=i.href||"",o="less:"+(i.title||e.extractId(r)),s=t.getElementById(o),a=!1,l=t.createElement("style");l.setAttribute("type","text/css"),i.media&&l.setAttribute("media",i.media),l.id=o,l.styleSheet||(l.appendChild(t.createTextNode(n)),a=null!==s&&s.childNodes.length>0&&l.childNodes.length>0&&s.firstChild.nodeValue===l.firstChild.nodeValue);var u=t.getElementsByTagName("head")[0];if(null===s||a===!1){var c=i&&i.nextSibling||null;c?c.parentNode.insertBefore(l,c):u.appendChild(l)}if(s&&a===!1&&s.parentNode.removeChild(s),l.styleSheet)try{l.styleSheet.cssText=n}catch(e){throw new Error("Couldn't reassign styleSheet.cssText.")}},currentScript:function(e){var t=e.document;return t.currentScript||function(){var e=t.getElementsByTagName("script");return e[e.length-1]}()}}},{"./utils":10}],4:[function(require,module,exports){module.exports=function(e,t,n){var i=null;if("development"!==t.env)try{i=void 0===e.localStorage?null:e.localStorage}catch(e){}return{setCSS:function(e,t,r,o){if(i){n.info("saving "+e+" to cache.");try{i.setItem(e,o),i.setItem(e+":timestamp",t),r&&i.setItem(e+":vars",JSON.stringify(r))}catch(t){n.error('failed to save "'+e+'" to local storage for caching.')}}},getCSS:function(e,t,n){var r=i&&i.getItem(e),o=i&&i.getItem(e+":timestamp"),s=i&&i.getItem(e+":vars");if(n=n||{},o&&t.lastModified&&new Date(t.lastModified).valueOf()===new Date(o).valueOf()&&(!n&&!s||JSON.stringify(n)===s))return r}}}},{}],5:[function(require,module,exports){var e=require("./utils"),t=require("./browser");module.exports=function(n,i,r){function o(i,o){var s,a,l="less-error-message:"+e.extractId(o||""),u='<li><label>{line}</label><pre class="{class}">{content}</pre></li>',c=n.document.createElement("div"),h=[],f=i.filename||o,p=f.match(/([^\/]+(\?.*)?)$/)[1];c.id=l,c.className="less-error-message",a="<h3>"+(i.type||"Syntax")+"Error: "+(i.message||"There is an error in your .less file")+'</h3><p>in <a href="'+f+'">'+p+"</a> ";var d=function(e,t,n){void 0!==e.extract[t]&&h.push(u.replace(/\{line\}/,(parseInt(e.line,10)||0)+(t-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[t]))};i.extract&&(d(i,0,""),d(i,1,"line"),d(i,2,""),a+="on line "+i.line+", column "+(i.column+1)+":</p><ul>"+h.join("")+"</ul>"),i.stack&&(i.extract||r.logLevel>=4)&&(a+="<br/>Stack Trace</br />"+i.stack.split("\n").slice(1).join("<br/>")),c.innerHTML=a,t.createCSS(n.document,[".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),c.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"===r.env&&(s=setInterval(function(){var e=n.document,t=e.body;t&&(e.getElementById(l)?t.replaceChild(c,e.getElementById(l)):t.insertBefore(c,t.firstChild),clearInterval(s))},10))}function s(t){var i=n.document.getElementById("less-error-message:"+e.extractId(t));i&&i.parentNode.removeChild(i)}function a(e){}function l(e){r.errorReporting&&"html"!==r.errorReporting?"console"===r.errorReporting?a(e):"function"==typeof r.errorReporting&&r.errorReporting("remove",e):s(e)}function u(e,t){var n="{line} {content}",o=e.filename||t,s=[],a=(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+" in "+o+" ",l=function(e,t,i){void 0!==e.extract[t]&&s.push(n.replace(/\{line\}/,(parseInt(e.line,10)||0)+(t-1)).replace(/\{class\}/,i).replace(/\{content\}/,e.extract[t]))};e.extract&&(l(e,0,""),l(e,1,"line"),l(e,2,""),a+="on line "+e.line+", column "+(e.column+1)+":\n"+s.join("\n")),e.stack&&(e.extract||r.logLevel>=4)&&(a+="\nStack Trace\n"+e.stack),i.logger.error(a)}function c(e,t){r.errorReporting&&"html"!==r.errorReporting?"console"===r.errorReporting?u(e,t):"function"==typeof r.errorReporting&&r.errorReporting("add",e,t):o(e,t)}return{add:c,remove:l}}},{"./browser":3,"./utils":10}],6:[function(require,module,exports){module.exports=function(e,t){function n(){if(window.XMLHttpRequest&&!("file:"===window.location.protocol&&"ActiveXObject"in window))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return t.error("browser doesn't support AJAX."),null}}var i=require("../less/environment/abstract-file-manager.js"),r={},o=function(){};return o.prototype=new i,o.prototype.alwaysMakePathsAbsolute=function(){return!0},o.prototype.join=function(e,t){return e?this.extractUrlParts(t,e).path:t},o.prototype.doXHR=function(i,r,o,s){function a(e,t,n){e.status>=200&&e.status<300?t(e.responseText,e.getResponseHeader("Last-Modified")):"function"==typeof n&&n(e.status,i)}var l=n(),u=!e.isFileProtocol||e.fileAsync;"function"==typeof l.overrideMimeType&&l.overrideMimeType("text/css"),t.debug("XHR: Getting '"+i+"'"),l.open("GET",i,u),l.setRequestHeader("Accept",r||"text/x-less, text/css; q=0.9, */*; q=0.5"),l.send(null),e.isFileProtocol&&!e.fileAsync?0===l.status||l.status>=200&&l.status<300?o(l.responseText):s(l.status,i):u?l.onreadystatechange=function(){4==l.readyState&&a(l,o,s)}:a(l,o,s)},o.prototype.supports=function(e,t,n,i){return!0},o.prototype.clearFileCache=function(){r={}},o.prototype.loadFile=function(e,t,n,i,o){t&&!this.isPathAbsolute(e)&&(e=t+e),n=n||{};var s=this.extractUrlParts(e,window.location.href),a=s.url;if(n.useFileCache&&r[a])try{o(null,{contents:r[a],filename:a,webInfo:{lastModified:new Date}})}catch(e){o({filename:a,message:"Error loading file "+a+" error was "+e.message})}else this.doXHR(a,n.mime,function(e,t){r[a]=e,o(null,{contents:e,filename:a,webInfo:{lastModified:t}})},function(e,t){o({type:"File",message:"'"+t+"' wasn't found ("+e+")",href:a})})},o}},{"../less/environment/abstract-file-manager.js":15}],7:[function(require,module,exports){module.exports=function(){function e(){throw{type:"Runtime",message:"Image size functions are not supported in browser version of less"}}var t=require("./../less/functions/function-registry"),n={"image-size":function(t){return e(),-1},"image-width":function(t){return e(),-1},"image-height":function(t){return e(),-1}};t.addMultiple(n)}},{"./../less/functions/function-registry":22}],8:[function(require,module,exports){var e=require("./utils").addDataAttr,t=require("./browser");module.exports=function(n,i){function r(e){return i.postProcessor&&"function"==typeof i.postProcessor&&(e=i.postProcessor.call(e,e)||e),e}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var i=n.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,i)}}function a(e){for(var t,n=h.getElementsByTagName("style"),r=0;r<n.length;r++)if(t=n[r],t.type.match(y)){var a=o(i);a.modifyVars=e;var l=t.innerHTML||"";a.filename=h.location.href.replace(/#.*$/,""),f.render(l,a,s(function(e,t,n){t?m.add(t,"inline"):(e.type="text/css",e.styleSheet?e.styleSheet.cssText=n.css:e.innerHTML=n.css)},null,t))}}function l(t,n,s,a,l){function u(e){var i=e.contents,o=e.filename,l=e.webInfo,u={currentDirectory:v.getPath(o),filename:o,rootFilename:o,relativeUrls:c.relativeUrls};if(u.entryPath=u.currentDirectory,u.rootpath=c.rootpath||u.currentDirectory,l){l.remaining=a;var h=g.getCSS(o,l,c.modifyVars);if(!s&&h)return l.local=!0,void n(null,h,i,t,l,o)}m.remove(o),c.rootFileInfo=u,f.render(i,c,function(e,s){e?(e.href=o,n(e)):(s.css=r(s.css),g.setCSS(t.href,l.lastModified,c.modifyVars,s.css),n(null,s.css,i,t,l,o))})}var c=o(i);e(c,t),c.mime=t.type,l&&(c.modifyVars=l),v.loadFile(t.href,null,c,p,function(e,t){if(e)return void n(e);u(t)})}function u(e,t,n){for(var i=0;i<f.sheets.length;i++)l(f.sheets[i],e,t,f.sheets.length-(i+1),n)}function c(){"development"===f.env&&(f.watchTimer=setInterval(function(){f.watchMode&&(v.clearFileCache(),u(function(e,i,r,o,s){e?m.add(e,e.href||o.href):i&&t.createCSS(n.document,i,o)}))},i.poll))}var h=n.document,f=require("../less")();f.options=i;var p=f.environment,d=require("./file-manager")(i,f.logger),v=new d;p.addFileManager(v),f.FileManager=d,require("./log-listener")(f,i);var m=require("./error-reporting")(n,f,i),g=f.cache=i.cache||require("./cache")(n,i,f.logger);require("./image-size")(f.environment),i.functions&&f.functions.functionRegistry.addMultiple(i.functions);var y=/^text\/(x-)?less$/;return f.watch=function(){return f.watchMode||(f.env="development",c()),this.watchMode=!0,!0},f.unwatch=function(){return clearInterval(f.watchTimer),this.watchMode=!1,!1},f.registerStylesheetsImmediately=function(){var e=h.getElementsByTagName("link");f.sheets=[];for(var t=0;t<e.length;t++)("stylesheet/less"===e[t].rel||e[t].rel.match(/stylesheet/)&&e[t].type.match(y))&&f.sheets.push(e[t])},f.registerStylesheets=function(){return new Promise(function(e,t){f.registerStylesheetsImmediately(),e()})},f.modifyVars=function(e){return f.refresh(!0,e,!1)},f.refresh=function(e,i,r){return(e||r)&&r!==!1&&v.clearFileCache(),new Promise(function(r,o){var s,l,c,h;s=l=new Date,h=f.sheets.length,0===h?(l=new Date,c=l-s,f.logger.info("Less has finished and no sheets were loaded."),r({startTime:s,endTime:l,totalMilliseconds:c,sheets:f.sheets.length})):u(function(e,i,a,u,p){if(e)return m.add(e,e.href||u.href),void o(e);p.local?f.logger.info("Loading "+u.href+" from cache."):f.logger.info("Rendered "+u.href+" successfully."),t.createCSS(n.document,i,u),f.logger.info("CSS for "+u.href+" generated in "+(new Date-l)+"ms"),h--,0===h&&(c=new Date-s,f.logger.info("Less has finished. CSS generated in "+c+"ms"),r({startTime:s,endTime:l,totalMilliseconds:c,sheets:f.sheets.length})),l=new Date},e,i),a(i)})},f.refreshStyles=a,f}},{"../less":31,"./browser":3,"./cache":4,"./error-reporting":5,"./file-manager":6,"./image-size":7,"./log-listener":9,"./utils":10}],9:[function(require,module,exports){module.exports=function(e,t){t.logLevel=void 0!==t.logLevel?t.logLevel:"development"===t.env?3:1,t.loggers||(t.loggers=[{debug:function(e){t.logLevel>=4&&console.log(e)},info:function(e){t.logLevel>=3&&console.log(e)},warn:function(e){t.logLevel>=2&&console.warn(e)},error:function(e){t.logLevel>=1&&console.error(e)}}]);for(var n=0;n<t.loggers.length;n++)e.logger.addListener(t.loggers[n])}},{}],10:[function(require,module,exports){module.exports={extractId:function(e){return e.replace(/^[a-z-]+:\/+?[^\/]+/,"").replace(/[\?\&]livereload=\w+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")},addDataAttr:function(e,t){for(var n in t.dataset)if(t.dataset.hasOwnProperty(n))if("env"===n||"dumpLineNumbers"===n||"rootpath"===n||"errorReporting"===n)e[n]=t.dataset[n];else try{e[n]=JSON.parse(t.dataset[n])}catch(e){}}}},{}],11:[function(require,module,exports){var e={};module.exports=e;var t=function(e,t,n){if(e)for(var i=0;i<n.length;i++)e.hasOwnProperty(n[i])&&(t[n[i]]=e[n[i]])},n=["paths","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","syncImport","chunkInput","mime","useFileCache","processImports","pluginManager"];e.Parse=function(e){t(e,this,n),"string"==typeof this.paths&&(this.paths=[this.paths])};var i=["paths","compress","ieCompat","strictMath","strictUnits","sourceMap","importMultiple","urlArgs","javascriptEnabled","pluginManager","importantScope"];e.Eval=function(e,n){t(e,this,i),"string"==typeof this.paths&&(this.paths=[this.paths]),this.frames=n||[],this.importantScope=this.importantScope||[]},e.Eval.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]),this.parensStack.push(!0)},e.Eval.prototype.outOfParenthesis=function(){this.parensStack.pop()},e.Eval.prototype.isMathOn=function(){return!this.strictMath||this.parensStack&&this.parensStack.length},e.Eval.prototype.isPathRelative=function(e){return!/^(?:[a-z-]+:|\/|#)/i.test(e)},e.Eval.prototype.normalizePath=function(e){var t,n=e.split("/").reverse();for(e=[];0!==n.length;)switch(t=n.pop()){case".":break;case"..":0===e.length||".."===e[e.length-1]?e.push(t):e.pop();break;default:e.push(t)}return e.join("/")}},{}],12:[function(require,module,exports){module.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],13:[function(require,module,exports){module.exports={colors:require("./colors"),unitConversions:require("./unit-conversions")}},{"./colors":12,"./unit-conversions":14}],14:[function(require,module,exports){module.exports={length:{m:1,cm:.01,mm:.001,in:.0254,px:.0254/96,pt:.0254/72,pc:.0254/72*12},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:.0025,turn:1}}},{}],15:[function(require,module,exports){var e=function(){};e.prototype.getPath=function(e){var t=e.lastIndexOf("?");return t>0&&(e=e.slice(0,t)),t=e.lastIndexOf("/"),t<0&&(t=e.lastIndexOf("\\")),t<0?"":e.slice(0,t+1)},e.prototype.tryAppendExtension=function(e,t){return/(\.[a-z]*$)|([\?;].*)$/.test(e)?e:e+t},e.prototype.tryAppendLessExtension=function(e){return this.tryAppendExtension(e,".less")},e.prototype.supportsSync=function(){return!1},e.prototype.alwaysMakePathsAbsolute=function(){return!1},e.prototype.isPathAbsolute=function(e){return/^(?:[a-z-]+:|\/|\\|#)/i.test(e)},e.prototype.join=function(e,t){return e?e+t:t},e.prototype.pathDiff=function(e,t){var n,i,r,o,s=this.extractUrlParts(e),a=this.extractUrlParts(t),l="";if(s.hostPart!==a.hostPart)return"";for(i=Math.max(a.directories.length,s.directories.length),n=0;n<i&&a.directories[n]===s.directories[n];n++);for(o=a.directories.slice(n),r=s.directories.slice(n),n=0;n<o.length-1;n++)l+="../";for(n=0;n<r.length-1;n++)l+=r[n]+"/";return l},e.prototype.extractUrlParts=function(e,t){var n,i,r=/^((?:[a-z-]+:)?\/{2}(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,o=e.match(r),s={},a=[];if(!o)throw new Error("Could not parse sheet href - '"+e+"'");if(t&&(!o[1]||o[2])){if(!(i=t.match(r)))throw new Error("Could not parse page url - '"+t+"'");o[1]=o[1]||i[1]||"",o[2]||(o[3]=i[3]+o[3])}if(o[3]){for(a=o[3].replace(/\\/g,"/").split("/"),n=0;n<a.length;n++)"."===a[n]&&(a.splice(n,1),n-=1);for(n=0;n<a.length;n++)".."===a[n]&&n>0&&(a.splice(n-1,2),n-=2)}return s.hostPart=o[1],s.directories=a,s.path=(o[1]||"")+a.join("/"),s.fileUrl=s.path+(o[4]||""),s.url=s.fileUrl+(o[5]||""),s},module.exports=e},{}],16:[function(require,module,exports){var e=require("../logger"),t=function(e,t){this.fileManagers=t||[],e=e||{};for(var n=["encodeBase64","mimeLookup","charsetLookup","getSourceMapGenerator"],i=[],r=i.concat(n),o=0;o<r.length;o++){var s=r[o],a=e[s];a?this[s]=a.bind(e):o<i.length&&this.warn("missing required function in environment - "+s)}};t.prototype.getFileManager=function(t,n,i,r,o){t||e.warn("getFileManager called with no filename.. Please report this issue. continuing."),null==n&&e.warn("getFileManager called with null directory.. Please report this issue. continuing.");var s=this.fileManagers;i.pluginManager&&(s=[].concat(s).concat(i.pluginManager.getFileManagers()));for(var a=s.length-1;a>=0;a--){var l=s[a];if(l[o?"supportsSync":"supports"](t,n,i,r))return l}return null},t.prototype.addFileManager=function(e){this.fileManagers.push(e)},t.prototype.clearFileManagers=function(){this.fileManagers=[]},module.exports=t},{"../logger":33}],17:[function(require,module,exports){function e(e,n,i){var r,o,s,a,l=n.alpha,u=i.alpha,c=[];s=u+l*(1-u);for(var h=0;h<3;h++)r=n.rgb[h]/255,o=i.rgb[h]/255,a=e(r,o),s&&(a=(u*o+l*(r-u*(r+o-a)))/s),c[h]=255*a;return new t(c,s)}var t=require("../tree/color"),n=require("./function-registry"),i={multiply:function(e,t){return e*t},screen:function(e,t){return e+t-e*t},overlay:function(e,t){return e*=2,e<=1?i.multiply(e,t):i.screen(e-1,t)},softlight:function(e,t){var n=1,i=e;return t>.5&&(i=1,n=e>.25?Math.sqrt(e):((16*e-12)*e+4)*e),e-(1-2*t)*i*(n-e)},hardlight:function(e,t){return i.overlay(t,e)},difference:function(e,t){return Math.abs(e-t)},exclusion:function(e,t){return e+t-2*e*t},average:function(e,t){return(e+t)/2},negation:function(e,t){return 1-Math.abs(e+t-1)}};for(var r in i)i.hasOwnProperty(r)&&(e[r]=e.bind(null,i[r]));n.addMultiple(e)},{"../tree/color":50,"./function-registry":22}],18:[function(require,module,exports){function e(e){return Math.min(1,Math.max(0,e))}function t(e){return r.hsla(e.h,e.s,e.l,e.a)}function n(e){if(e instanceof o)return parseFloat(e.unit.is("%")?e.value/100:e.value);if("number"==typeof e)return e;throw{type:"Argument",message:"color functions take numbers as parameters"}}function i(e,t){return e instanceof o&&e.unit.is("%")?parseFloat(e.value*t/100):n(e)}var r,o=require("../tree/dimension"),s=require("../tree/color"),a=require("../tree/quoted"),l=require("../tree/anonymous"),u=require("./function-registry");r={rgb:function(e,t,n){return r.rgba(e,t,n,1)},rgba:function(e,t,r,o){var a=[e,t,r].map(function(e){return i(e,255)});return o=n(o),new s(a,o)},hsl:function(e,t,n){return r.hsla(e,t,n,1)},hsla:function(t,i,o,s){function a(e){return e=e<0?e+1:e>1?e-1:e,6*e<1?l+(u-l)*e*6:2*e<1?u:3*e<2?l+(u-l)*(2/3-e)*6:l}var l,u;return t=n(t)%360/360,i=e(n(i)),o=e(n(o)),s=e(n(s)),u=o<=.5?o*(i+1):o+i-o*i,l=2*o-u,r.rgba(255*a(t+1/3),255*a(t),255*a(t-1/3),s)},hsv:function(e,t,n){return r.hsva(e,t,n,1)},hsva:function(e,t,i,o){e=n(e)%360/360*360,t=n(t),i=n(i),o=n(o);var s,a;s=Math.floor(e/60%6),a=e/60-s;var l=[i,i*(1-t),i*(1-a*t),i*(1-(1-a)*t)],u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return r.rgba(255*l[u[s][0]],255*l[u[s][1]],255*l[u[s][2]],o)},hue:function(e){return new o(e.toHSL().h)},saturation:function(e){return new o(100*e.toHSL().s,"%")},lightness:function(e){return new o(100*e.toHSL().l,"%")},hsvhue:function(e){return new o(e.toHSV().h)},hsvsaturation:function(e){return new o(100*e.toHSV().s,"%")},hsvvalue:function(e){return new o(100*e.toHSV().v,"%")},red:function(e){return new o(e.rgb[0])},green:function(e){return new o(e.rgb[1])},blue:function(e){return new o(e.rgb[2])},alpha:function(e){return new o(e.toHSL().a)},luma:function(e){return new o(e.luma()*e.alpha*100,"%")},luminance:function(e){return new o((.2126*e.rgb[0]/255+.7152*e.rgb[1]/255+.0722*e.rgb[2]/255)*e.alpha*100,"%")},saturate:function(n,i,r){if(!n.rgb)return null;var o=n.toHSL();return void 0!==r&&"relative"===r.value?o.s+=o.s*i.value/100:o.s+=i.value/100,o.s=e(o.s),t(o)},desaturate:function(n,i,r){var o=n.toHSL();return void 0!==r&&"relative"===r.value?o.s-=o.s*i.value/100:o.s-=i.value/100,o.s=e(o.s),t(o)},lighten:function(n,i,r){var o=n.toHSL();return void 0!==r&&"relative"===r.value?o.l+=o.l*i.value/100:o.l+=i.value/100,o.l=e(o.l),t(o)},darken:function(n,i,r){var o=n.toHSL();return void 0!==r&&"relative"===r.value?o.l-=o.l*i.value/100:o.l-=i.value/100,o.l=e(o.l),t(o)},fadein:function(n,i,r){var o=n.toHSL();return void 0!==r&&"relative"===r.value?o.a+=o.a*i.value/100:o.a+=i.value/100,o.a=e(o.a),t(o)},fadeout:function(n,i,r){var o=n.toHSL();return void 0!==r&&"relative"===r.value?o.a-=o.a*i.value/100:o.a-=i.value/100,o.a=e(o.a),t(o)},fade:function(n,i){var r=n.toHSL();return r.a=i.value/100,r.a=e(r.a),t(r)},spin:function(e,n){var i=e.toHSL(),r=(i.h+n.value)%360;return i.h=r<0?360+r:r,t(i)},mix:function(e,t,n){e.toHSL&&t.toHSL||(console.log(t.type),console.dir(t)),n||(n=new o(50));var i=n.value/100,r=2*i-1,a=e.toHSL().a-t.toHSL().a,l=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,u=1-l;return new s([e.rgb[0]*l+t.rgb[0]*u,e.rgb[1]*l+t.rgb[1]*u,e.rgb[2]*l+t.rgb[2]*u],e.alpha*i+t.alpha*(1-i))},greyscale:function(e){return r.desaturate(e,new o(100))},contrast:function(e,t,n,i){if(!e.rgb)return null;void 0===t&&(t=r.rgba(0,0,0,1)),void 0===n&&(n=r.rgba(255,255,255,1));var o,s,a=e.luma(),l=t.luma(),u=n.luma();return o=a>l?(a+.05)/(l+.05):(l+.05)/(a+.05),s=a>u?(a+.05)/(u+.05):(u+.05)/(a+.05),o>s?t:n},argb:function(e){return new l(e.toARGB())},color:function(e){if(e instanceof a&&/^#([a-f0-9]{6}|[a-f0-9]{3})$/i.test(e.value))return new s(e.value.slice(1));if(e instanceof s||(e=s.fromKeyword(e.value)))return e.value=void 0,e;throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"}},tint:function(e,t){return r.mix(r.rgb(255,255,255),e,t)},shade:function(e,t){return r.mix(r.rgb(0,0,0),e,t)}},u.addMultiple(r)},{"../tree/anonymous":46,"../tree/color":50,"../tree/dimension":56,"../tree/quoted":73,"./function-registry":22}],19:[function(require,module,exports){module.exports=function(e){var t=require("../tree/quoted"),n=require("../tree/url"),i=require("./function-registry"),r=function(e,t){return new n(t,e.index,e.currentFileInfo).eval(e.context)},o=require("../logger");i.add("data-uri",function(i,s){s||(s=i,i=null);var a=i&&i.value,l=s.value,u=this.currentFileInfo,c=u.relativeUrls?u.currentDirectory:u.entryPath,h=l.indexOf("#"),f="";h!==-1&&(f=l.slice(h),l=l.slice(0,h));var p=e.getFileManager(l,c,this.context,e,!0);if(!p)return r(this,s);var d=!1;if(i)d=/;base64$/.test(a);else{if("image/svg+xml"===(a=e.mimeLookup(l)))d=!1;else{var v=e.charsetLookup(a);d=["US-ASCII","UTF-8"].indexOf(v)<0}d&&(a+=";base64")}var m=p.loadFileSync(l,c,this.context,e);if(!m.contents)return o.warn("Skipped data-uri embedding of "+l+" because file not found"),r(this,s||i);var g=m.contents;if(d&&!e.encodeBase64)return r(this,s);g=d?e.encodeBase64(g):encodeURIComponent(g);var y="data:"+a+","+g+f;return y.length>=32768&&this.context.ieCompat!==!1?(o.warn("Skipped data-uri embedding of "+l+" because its size ("+y.length+" characters) exceeds IE8-safe 32768 characters!"),r(this,s||i)):new n(new t('"'+y+'"',y,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)})}},{"../logger":33,"../tree/quoted":73,"../tree/url":80,"./function-registry":22}],20:[function(require,module,exports){var e=require("../tree/keyword"),t=require("./function-registry"),n={eval:function(){var t=this.value_,n=this.error_;if(n)throw n;if(null!=t)return t?e.True:e.False},value:function(e){this.value_=e},error:function(e){this.error_=e},reset:function(){this.value_=this.error_=null}};t.add("default",n.eval.bind(n)),module.exports=n},{"../tree/keyword":65,"./function-registry":22}],21:[function(require,module,exports){var e=require("../tree/expression"),t=function(e,t,n,i){this.name=e.toLowerCase(),this.index=n,this.context=t,this.currentFileInfo=i,this.func=t.frames[0].functionRegistry.get(this.name)};t.prototype.isValid=function(){return Boolean(this.func)},t.prototype.call=function(t){return Array.isArray(t)&&(t=t.filter(function(e){return"Comment"!==e.type}).map(function(t){if("Expression"===t.type){var n=t.value.filter(function(e){return"Comment"!==e.type});return 1===n.length?n[0]:new e(n)}return t})),this.func.apply(this,t)},module.exports=t},{"../tree/expression":59}],22:[function(require,module,exports){function e(t){return{_data:{},add:function(e,t){e=e.toLowerCase(),this._data.hasOwnProperty(e),this._data[e]=t},addMultiple:function(e){Object.keys(e).forEach(function(t){this.add(t,e[t])}.bind(this))},get:function(e){return this._data[e]||t&&t.get(e)},inherit:function(){return e(this)}}}module.exports=e(null)},{}],23:[function(require,module,exports){module.exports=function(e){var t={functionRegistry:require("./function-registry"),functionCaller:require("./function-caller")};return require("./default"),require("./color"),require("./color-blending"),require("./data-uri")(e),require("./math"),require("./number"),require("./string"),require("./svg")(e),require("./types"),t}},{"./color":18,"./color-blending":17,"./data-uri":19,"./default":20,"./function-caller":21,"./function-registry":22,"./math":25,"./number":26,"./string":27,"./svg":28,"./types":29}],24:[function(require,module,exports){var e=require("../tree/dimension"),t=function(){};t._math=function(t,n,i){if(!(i instanceof e))throw{type:"Argument",message:"argument must be a number"};return null==n?n=i.unit:i=i.unify(),new e(t(parseFloat(i.value)),n)},module.exports=t},{"../tree/dimension":56}],25:[function(require,module,exports){var e=require("./function-registry"),t=require("./math-helper.js"),n={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};for(var i in n)n.hasOwnProperty(i)&&(n[i]=t._math.bind(null,Math[i],n[i]));n.round=function(e,n){var i=void 0===n?0:n.value;return t._math(function(e){return e.toFixed(i)},null,e)},e.addMultiple(n)},{"./function-registry":22,"./math-helper.js":24}],26:[function(require,module,exports){var e=require("../tree/dimension"),t=require("../tree/anonymous"),n=require("./function-registry"),i=require("./math-helper.js"),r=function(n,i){switch(i=Array.prototype.slice.call(i),i.length){case 0:throw{type:"Argument",message:"one or more arguments required"}}var r,o,s,a,l,u,c,h,f=[],p={};for(r=0;r<i.length;r++)if((s=i[r])instanceof e)if(a=""===s.unit.toString()&&void 0!==h?new e(s.value,h).unify():s.unify(),u=""===a.unit.toString()&&void 0!==c?c:a.unit.toString(),c=""!==u&&void 0===c||""!==u&&""===f[0].unify().unit.toString()?u:c,h=""!==u&&void 0===h?s.unit.toString():h,void 0!==(o=void 0!==p[""]&&""!==u&&u===c?p[""]:p[u]))l=""===f[o].unit.toString()&&void 0!==h?new e(f[o].value,h).unify():f[o].unify(),(n&&a.value<l.value||!n&&a.value>l.value)&&(f[o]=s);else{if(void 0!==c&&u!==c)throw{type:"Argument",message:"incompatible types"};p[u]=f.length,f.push(s)}else Array.isArray(i[r].value)&&Array.prototype.push.apply(i,Array.prototype.slice.call(i[r].value));return 1==f.length?f[0]:(i=f.map(function(e){return e.toCSS(this.context)}).join(this.context.compress?",":", "),new t((n?"min":"max")+"("+i+")"))};n.addMultiple({min:function(){return r(!0,arguments)},max:function(){return r(!1,arguments)},convert:function(e,t){return e.convertTo(t.value)},pi:function(){return new e(Math.PI)},mod:function(t,n){return new e(t.value%n.value,t.unit)},pow:function(t,n){if("number"==typeof t&&"number"==typeof n)t=new e(t),n=new e(n);else if(!(t instanceof e&&n instanceof e))throw{type:"Argument",message:"arguments must be numbers"};return new e(Math.pow(t.value,n.value),t.unit)},percentage:function(e){return i._math(function(e){return 100*e},"%",e)}})},{"../tree/anonymous":46,"../tree/dimension":56,"./function-registry":22,"./math-helper.js":24}],27:[function(require,module,exports){var e=require("../tree/quoted"),t=require("../tree/anonymous"),n=require("../tree/javascript")
;require("./function-registry").addMultiple({e:function(e){return new t(e instanceof n?e.evaluated:e.value)},escape:function(e){return new t(encodeURI(e.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},replace:function(t,n,i,r){var o=t.value;return i="Quoted"===i.type?i.value:i.toCSS(),o=o.replace(new RegExp(n.value,r?r.value:""),i),new e(t.quote||"",o,t.escaped)},"%":function(t){for(var n=Array.prototype.slice.call(arguments,1),i=t.value,r=0;r<n.length;r++)i=i.replace(/%[sda]/i,function(e){var t="Quoted"===n[r].type&&e.match(/s/i)?n[r].value:n[r].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(t):t});return i=i.replace(/%%/g,"%"),new e(t.quote||"",i,t.escaped)}})},{"../tree/anonymous":46,"../tree/javascript":63,"../tree/quoted":73,"./function-registry":22}],28:[function(require,module,exports){module.exports=function(e){var t=require("../tree/dimension"),n=require("../tree/color"),i=require("../tree/expression"),r=require("../tree/quoted"),o=require("../tree/url");require("./function-registry").add("svg-gradient",function(e){function s(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position] or direction, color list"}}var a,l,u,c,h,f,p,d,v="linear",m='x="0" y="0" width="1" height="1"',g={compress:!1},y=e.toCSS(g);switch(2==arguments.length?(arguments[1].value.length<2&&s(),a=arguments[1].value):arguments.length<3?s():a=Array.prototype.slice.call(arguments,1),y){case"to bottom":l='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":l='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":l='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":l='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":v="radial",l='cx="50%" cy="50%" r="75%"',m='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}for(u='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><'+v+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+l+">",c=0;c<a.length;c+=1)a[c]instanceof i?(h=a[c].value[0],f=a[c].value[1]):(h=a[c],f=void 0),h instanceof n&&((0===c||c+1===a.length)&&void 0===f||f instanceof t)||s(),p=f?f.toCSS(g):0===c?"0%":"100%",d=h.alpha,u+='<stop offset="'+p+'" stop-color="'+h.toRGB()+'"'+(d<1?' stop-opacity="'+d+'"':"")+"/>";return u+="</"+v+"Gradient><rect "+m+' fill="url(#gradient)" /></svg>',u=encodeURIComponent(u),u="data:image/svg+xml,"+u,new o(new r("'"+u+"'",u,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)})}},{"../tree/color":50,"../tree/dimension":56,"../tree/expression":59,"../tree/quoted":73,"../tree/url":80,"./function-registry":22}],29:[function(require,module,exports){var e=require("../tree/keyword"),t=require("../tree/detached-ruleset"),n=require("../tree/dimension"),i=require("../tree/color"),r=require("../tree/quoted"),o=require("../tree/anonymous"),s=require("../tree/url"),a=require("../tree/operation"),l=require("./function-registry"),u=function(t,n){return t instanceof n?e.True:e.False},c=function(t,i){if(void 0===i)throw{type:"Argument",message:"missing the required second argument to isunit."};if("string"!=typeof(i="string"==typeof i.value?i.value:i))throw{type:"Argument",message:"Second argument to isunit should be a unit or a string."};return t instanceof n&&t.unit.is(i)?e.True:e.False},h=function(e){return Array.isArray(e.value)?e.value:Array(e)};l.addMultiple({isruleset:function(e){return u(e,t)},iscolor:function(e){return u(e,i)},isnumber:function(e){return u(e,n)},isstring:function(e){return u(e,r)},iskeyword:function(t){return u(t,e)},isurl:function(e){return u(e,s)},ispixel:function(e){return c(e,"px")},ispercentage:function(e){return c(e,"%")},isem:function(e){return c(e,"em")},isunit:c,unit:function(t,i){if(!(t instanceof n))throw{type:"Argument",message:"the first argument to unit must be a number"+(t instanceof a?". Have you forgotten parenthesis?":"")};return i=i?i instanceof e?i.value:i.toCSS():"",new n(t.value,i)},"get-unit":function(e){return new o(e.unit)},extract:function(e,t){return t=t.value-1,h(e)[t]},length:function(e){return new n(h(e).length)}})},{"../tree/anonymous":46,"../tree/color":50,"../tree/detached-ruleset":55,"../tree/dimension":56,"../tree/keyword":65,"../tree/operation":71,"../tree/quoted":73,"../tree/url":80,"./function-registry":22}],30:[function(require,module,exports){var e=require("./contexts"),t=require("./parser/parser"),n=require("./plugins/function-importer");module.exports=function(i){var r=function(e,t){this.rootFilename=t.filename,this.paths=e.paths||[],this.contents={},this.contentsIgnoredChars={},this.mime=e.mime,this.error=null,this.context=e,this.queue=[],this.files={}};return r.prototype.push=function(r,o,s,a,l){var u=this;this.queue.push(r);var c=function(e,t,n){u.queue.splice(u.queue.indexOf(r),1);var i=n===u.rootFilename;a.optional&&e?l(null,{rules:[]},!1,null):(u.files[n]=t,e&&!u.error&&(u.error=e),l(e,t,i,n))},h={relativeUrls:this.context.relativeUrls,entryPath:s.entryPath,rootpath:s.rootpath,rootFilename:s.rootFilename},f=i.getFileManager(r,s.currentDirectory,this.context,i);if(!f)return void c({message:"Could not find a file-manager for "+r});o&&(r=f.tryAppendExtension(r,a.plugin?".js":".less"));var p=function(i){var r=i.filename,o=i.contents.replace(/^\uFEFF/,"");h.currentDirectory=f.getPath(r),h.relativeUrls&&(h.rootpath=f.join(u.context.rootpath||"",f.pathDiff(h.currentDirectory,h.entryPath)),!f.isPathAbsolute(h.rootpath)&&f.alwaysMakePathsAbsolute()&&(h.rootpath=f.join(h.entryPath,h.rootpath))),h.filename=r;var l=new e.Parse(u.context);l.processImports=!1,u.contents[r]=o,(s.reference||a.reference)&&(h.reference=!0),a.plugin?new n(l,h).eval(o,function(e,t){c(e,t,r)}):a.inline?c(null,o,r):new t(l,u,h).parse(o,function(e,t){c(e,t,r)})},d=f.loadFile(r,s.currentDirectory,this.context,i,function(e,t){e?c(e):p(t)});d&&d.then(p,c)},r}},{"./contexts":11,"./parser/parser":38,"./plugins/function-importer":40}],31:[function(require,module,exports){module.exports=function(e,t){var n,i,r,o,s;return{version:[2,7,1],data:require("./data"),tree:require("./tree"),Environment:s=require("./environment/environment"),AbstractFileManager:require("./environment/abstract-file-manager"),environment:e=new s(e,t),visitors:require("./visitors"),Parser:require("./parser/parser"),functions:require("./functions")(e),contexts:require("./contexts"),SourceMapOutput:n=require("./source-map-output")(e),SourceMapBuilder:i=require("./source-map-builder")(n,e),ParseTree:r=require("./parse-tree")(i),ImportManager:o=require("./import-manager")(e),render:require("./render")(e,r,o),parse:require("./parse")(e,r,o),LessError:require("./less-error"),transformTree:require("./transform-tree"),utils:require("./utils"),PluginManager:require("./plugin-manager"),logger:require("./logger")}}},{"./contexts":11,"./data":13,"./environment/abstract-file-manager":15,"./environment/environment":16,"./functions":23,"./import-manager":30,"./less-error":32,"./logger":33,"./parse":35,"./parse-tree":34,"./parser/parser":38,"./plugin-manager":39,"./render":41,"./source-map-builder":42,"./source-map-output":43,"./transform-tree":44,"./tree":62,"./utils":83,"./visitors":87}],32:[function(require,module,exports){var e=require("./utils"),t=module.exports=function(t,n,i){Error.call(this);var r=t.filename||i;if(n&&r){var o=n.contents[r],s=e.getLocation(t.index,o),a=s.line,l=s.column,u=t.call&&e.getLocation(t.call,o).line,c=o.split("\n");this.type=t.type||"Syntax",this.filename=r,this.index=t.index,this.line="number"==typeof a?a+1:null,this.callLine=u+1,this.callExtract=c[u],this.column=l,this.extract=[c[a-1],c[a],c[a+1]]}this.message=t.message,this.stack=t.stack};if(void 0===Object.create){var n=function(){};n.prototype=Error.prototype,t.prototype=new n}else t.prototype=Object.create(Error.prototype);t.prototype.constructor=t},{"./utils":83}],33:[function(require,module,exports){module.exports={error:function(e){this._fireEvent("error",e)},warn:function(e){this._fireEvent("warn",e)},info:function(e){this._fireEvent("info",e)},debug:function(e){this._fireEvent("debug",e)},addListener:function(e){this._listeners.push(e)},removeListener:function(e){for(var t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)},_fireEvent:function(e,t){for(var n=0;n<this._listeners.length;n++){var i=this._listeners[n][e];i&&i(t)}},_listeners:[]}},{}],34:[function(require,module,exports){var e=require("./less-error"),t=require("./transform-tree"),n=require("./logger");module.exports=function(i){var r=function(e,t){this.root=e,this.imports=t};return r.prototype.toCSS=function(r){var o,s,a={};try{o=t(this.root,r)}catch(t){throw new e(t,this.imports)}try{var l=Boolean(r.compress);l&&n.warn("The compress option has been deprecated. We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.");var u={compress:l,dumpLineNumbers:r.dumpLineNumbers,strictUnits:Boolean(r.strictUnits),numPrecision:8};r.sourceMap?(s=new i(r.sourceMap),a.css=s.toCSS(o,u,this.imports)):a.css=o.toCSS(u)}catch(t){throw new e(t,this.imports)}if(r.pluginManager)for(var c=r.pluginManager.getPostProcessors(),h=0;h<c.length;h++)a.css=c[h].process(a.css,{sourceMap:s,options:r,imports:this.imports});r.sourceMap&&(a.map=s.getExternalSourceMap()),a.imports=[];for(var f in this.imports.files)this.imports.files.hasOwnProperty(f)&&f!==this.imports.rootFilename&&a.imports.push(f);return a},r}},{"./less-error":32,"./logger":33,"./transform-tree":44}],35:[function(require,module,exports){var e,t=require("./contexts"),n=require("./parser/parser"),i=require("./plugin-manager");module.exports=function(r,o,s){var a=function(r,o,l){if(o=o||{},"function"==typeof o&&(l=o,o={}),!l){e||(e="undefined"==typeof Promise?require("promise"):Promise);var u=this;return new e(function(e,t){a.call(u,r,o,function(n,i){n?t(n):e(i)})})}var c,h,f=new i(this);if(f.addPlugins(o.plugins),o.pluginManager=f,c=new t.Parse(o),o.rootFileInfo)h=o.rootFileInfo;else{var p=o.filename||"input",d=p.replace(/[^\/\\]*$/,"");h={filename:p,relativeUrls:c.relativeUrls,rootpath:c.rootpath||"",currentDirectory:d,entryPath:d,rootFilename:p},h.rootpath&&"/"!==h.rootpath.slice(-1)&&(h.rootpath+="/")}var v=new s(c,h);new n(c,v,h).parse(r,function(e,t){if(e)return l(e);l(null,t,v,o)},o)};return a}},{"./contexts":11,"./parser/parser":38,"./plugin-manager":39,promise:void 0}],36:[function(require,module,exports){module.exports=function(e,t){function n(t){var n=a-m;n<512&&!t||!n||(v.push(e.slice(m,a+1)),m=a+1)}var i,r,o,s,a,l,u,c,h,f=e.length,p=0,d=0,v=[],m=0;for(a=0;a<f;a++)if(!((u=e.charCodeAt(a))>=97&&u<=122||u<34))switch(u){case 40:d++,r=a;continue;case 41:if(--d<0)return t("missing opening `(`",a);continue;case 59:d||n();continue;case 123:p++,i=a;continue;case 125:if(--p<0)return t("missing opening `{`",a);p||d||n();continue;case 92:if(a<f-1){a++;continue}return t("unescaped `\\`",a);case 34:case 39:case 96:for(h=0,l=a,a+=1;a<f;a++)if(!((c=e.charCodeAt(a))>96)){if(c==u){h=1;break}if(92==c){if(a==f-1)return t("unescaped `\\`",a);a++}}if(h)continue;return t("unmatched `"+String.fromCharCode(u)+"`",l);case 47:if(d||a==f-1)continue;if(47==(c=e.charCodeAt(a+1)))for(a+=2;a<f&&(!((c=e.charCodeAt(a))<=13)||10!=c&&13!=c);a++);else if(42==c){for(o=l=a,a+=2;a<f-1&&(c=e.charCodeAt(a),125==c&&(s=a),42!=c||47!=e.charCodeAt(a+1));a++);if(a==f-1)return t("missing closing `*/`",l);a++}continue;case 42:if(a<f-1&&47==e.charCodeAt(a+1))return t("unmatched `/*`",a);continue}return 0!==p?o>i&&s>o?t("missing closing `}` or `*/`",i):t("missing closing `}`",i):0!==d?t("missing closing `)`",r):(n(!0),v)}},{}],37:[function(require,module,exports){var e=require("./chunker");module.exports=function(){function t(e){for(var r,o,u,m=c.i,g=i,y=c.i-l,b=c.i+a.length-y,w=c.i+=e,x=n;c.i<b;c.i++){if(r=x.charCodeAt(c.i),c.autoCommentAbsorb&&r===v){if("/"===(o=x.charAt(c.i+1))){u={index:c.i,isLineComment:!0};var S=x.indexOf("\n",c.i+2);S<0&&(S=b),c.i=S,u.text=x.substr(u.index,c.i-u.index),c.commentStore.push(u);continue}if("*"===o){var C=x.indexOf("*/",c.i+2);if(C>=0){u={index:c.i,text:x.substr(c.i,C+2-c.i),isLineComment:!1},c.i+=u.text.length-1,c.commentStore.push(u);continue}}break}if(r!==h&&r!==p&&r!==f&&r!==d)break}if(a=a.slice(e+c.i-w+y),l=c.i,!a.length){if(i<s.length-1)return a=s[++i],t(0),!0;c.finished=!0}return m!==c.i||g!==i}var n,i,r,o,s,a,l,u=[],c={},h=32,f=9,p=10,d=13,v=47;return c.save=function(){l=c.i,u.push({current:a,i:c.i,j:i})},c.restore=function(e){(c.i>r||c.i===r&&e&&!o)&&(r=c.i,o=e);var t=u.pop();a=t.current,l=c.i=t.i,i=t.j},c.forget=function(){u.pop()},c.isWhitespace=function(e){var t=c.i+(e||0),i=n.charCodeAt(t);return i===h||i===d||i===f||i===p},c.$re=function(e){c.i>l&&(a=a.slice(c.i-l),l=c.i);var n=e.exec(a);return n?(t(n[0].length),"string"==typeof n?n:1===n.length?n[0]:n):null},c.$char=function(e){return n.charAt(c.i)!==e?null:(t(1),e)},c.$str=function(e){for(var i=e.length,r=0;r<i;r++)if(n.charAt(c.i+r)!==e.charAt(r))return null;return t(i),e},c.$quoted=function(){var e=n.charAt(c.i);if("'"===e||'"'===e){for(var i=n.length,r=c.i,o=1;o+r<i;o++){switch(n.charAt(o+r)){case"\\":o++;continue;case"\r":case"\n":break;case e:var s=n.substr(r,o+1);return t(o+1),s}}return null}},c.autoCommentAbsorb=!0,c.commentStore=[],c.finished=!1,c.peek=function(e){if("string"==typeof e){for(var t=0;t<e.length;t++)if(n.charAt(c.i+t)!==e.charAt(t))return!1;return!0}return e.test(a)},c.peekChar=function(e){return n.charAt(c.i)===e},c.currentChar=function(){return n.charAt(c.i)},c.getInput=function(){return n},c.peekNotNumeric=function(){var e=n.charCodeAt(c.i);return e>57||e<43||e===v||44===e},c.start=function(o,u,h){n=o,c.i=i=l=r=0,s=u?e(o,h):[o],a=s[0],t(0)},c.end=function(){var e,t=c.i>=n.length;return c.i<r&&(e=o,c.i=r),{isFinished:t,furthest:c.i,furthestPossibleErrorMessage:e,furthestReachedEnd:c.i>=n.length-1,furthestChar:n[c.i]}},c}},{"./chunker":36}],38:[function(require,module,exports){var e=require("../less-error"),t=require("../tree"),n=require("../visitors"),i=require("./parser-input"),r=require("../utils"),o=function o(s,a,l){function u(t,n){throw new e({index:d.i,filename:l.filename,type:n||"Syntax",message:t},a)}function c(e,t,n){var i=e instanceof Function?e.call(p):d.$re(e);if(i)return i;u(t||("string"==typeof e?"expected '"+e+"' got '"+d.currentChar()+"'":"unexpected token"))}function h(e,t){if(d.$char(e))return e;u(t||"expected '"+e+"' got '"+d.currentChar()+"'")}function f(e){var t=l.filename;return{lineNumber:r.getLocation(e,d.getInput()).line+1,fileName:t}}var p,d=i();return{parse:function(i,r,u){var c,h,f,p,v=null,m="";if(h=u&&u.globalVars?o.serializeVars(u.globalVars)+"\n":"",f=u&&u.modifyVars?"\n"+o.serializeVars(u.modifyVars):"",s.pluginManager)for(var g=s.pluginManager.getPreProcessors(),y=0;y<g.length;y++)i=g[y].process(i,{context:s,imports:a,fileInfo:l});(h||u&&u.banner)&&(m=(u&&u.banner?u.banner:"")+h,p=a.contentsIgnoredChars,p[l.filename]=p[l.filename]||0,p[l.filename]+=m.length),i=i.replace(/\r\n?/g,"\n"),i=m+i.replace(/^\uFEFF/,"")+f,a.contents[l.filename]=i;try{d.start(i,s.chunkInput,function(t,n){throw new e({index:n,type:"Parse",message:t,filename:l.filename},a)}),c=new t.Ruleset(null,this.parsers.primary()),c.root=!0,c.firstRoot=!0}catch(t){return r(new e(t,a,l.filename))}var b=d.end();if(!b.isFinished){var w=b.furthestPossibleErrorMessage;w||(w="Unrecognised input","}"===b.furthestChar?w+=". Possibly missing opening '{'":")"===b.furthestChar?w+=". Possibly missing opening '('":b.furthestReachedEnd&&(w+=". Possibly missing something")),v=new e({type:"Parse",message:w,index:b.furthest,filename:l.filename},a)}var x=function(t){return t=v||t||a.error,t?(t instanceof e||(t=new e(t,a,l.filename)),r(t)):r(null,c)};if(s.processImports===!1)return x();new n.ImportVisitor(a,x).run(c)},parsers:p={primary:function(){for(var e,t=this.mixin,n=[];;){for(;;){if(!(e=this.comment()))break;n.push(e)}if(d.finished)break;if(d.peek("}"))break;if(e=this.extendRule())n=n.concat(e);else if(e=t.definition()||this.rule()||this.ruleset()||t.call()||this.rulesetCall()||this.entities.call()||this.directive())n.push(e);else{for(var i=!1;d.$char(";");)i=!0;if(!i)break}}return n},comment:function(){if(d.commentStore.length){var e=d.commentStore.shift();return new t.Comment(e.text,e.isLineComment,e.index,l)}},entities:{quoted:function(){var e,n=d.i,i=!1;return d.save(),d.$char("~")&&(i=!0),(e=d.$quoted())?(d.forget(),new t.Quoted(e.charAt(0),e.substr(1,e.length-2),i,n,l)):void d.restore()},keyword:function(){var e=d.$char("%")||d.$re(/^[_A-Za-z-][_A-Za-z0-9-]*/);if(e)return t.Color.fromKeyword(e)||new t.Keyword(e)},call:function(){var e,n,i,r=d.i;if(!d.peek(/^url\(/i))return d.save(),(e=d.$re(/^([\w-]+|%|progid:[\w\.]+)\(/))?(e=e[1],"alpha"===e.toLowerCase()&&(i=p.alpha())?(d.forget(),i):(n=this.arguments(),d.$char(")")?(d.forget(),new t.Call(e,n,r,l)):void d.restore("Could not parse call arguments or missing ')'"))):void d.forget()},arguments:function(){var e,n,i,r=[],o=[],s=[];for(d.save();;){if(!(i=p.detachedRuleset()||this.assignment()||p.expression()))break;n=i,i.value&&1==i.value.length&&(n=i.value[0]),n&&s.push(n),o.push(n),d.$char(",")||(d.$char(";")||e)&&(e=!0,s.length>1&&(n=new t.Value(s)),r.push(n),s=[])}return d.forget(),e?r:o},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var e,n;return d.save(),(e=d.$re(/^\w+(?=\s?=)/i))&&d.$char("=")&&(n=p.entity())?(d.forget(),new t.Assignment(e,n)):void d.restore()},url:function(){var e,n=d.i;return d.autoCommentAbsorb=!1,d.$str("url(")?(e=this.quoted()||this.variable()||d.$re(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",d.autoCommentAbsorb=!0,h(")"),new t.URL(null!=e.value||e instanceof t.Variable?e:new t.Anonymous(e),n,l)):void(d.autoCommentAbsorb=!0)},variable:function(){var e,n=d.i;if("@"===d.currentChar()&&(e=d.$re(/^@@?[\w-]+/)))return new t.Variable(e,n,l)},variableCurly:function(){var e,n=d.i;if("@"===d.currentChar()&&(e=d.$re(/^@\{([\w-]+)\}/)))return new t.Variable("@"+e[1],n,l)},color:function(){var e;if("#"===d.currentChar()&&(e=d.$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))){var n=e.input.match(/^#([\w]+).*/);return n=n[1],n.match(/^[A-Fa-f0-9]+$/)||u("Invalid HEX color code"),new t.Color(e[1],void 0,"#"+n)}},colorKeyword:function(){d.save();var e=d.autoCommentAbsorb;d.autoCommentAbsorb=!1;var n=d.$re(/^[_A-Za-z-][_A-Za-z0-9-]+/);if(d.autoCommentAbsorb=e,!n)return void d.forget();d.restore();var i=t.Color.fromKeyword(n);return i?(d.$str(n),i):void 0},dimension:function(){if(!d.peekNotNumeric()){var e=d.$re(/^([+-]?\d*\.?\d+)(%|[a-z_]+)?/i);return e?new t.Dimension(e[1],e[2]):void 0}},unicodeDescriptor:function(){var e;if(e=d.$re(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))return new t.UnicodeDescriptor(e[0])},javascript:function(){var e,n=d.i;d.save();var i=d.$char("~");return d.$char("`")?(e=d.$re(/^[^`]*`/))?(d.forget(),new t.JavaScript(e.substr(0,e.length-1),Boolean(i),n,l)):void d.restore("invalid javascript definition"):void d.restore()}},variable:function(){var e;if("@"===d.currentChar()&&(e=d.$re(/^(@[\w-]+)\s*:/)))return e[1]},rulesetCall:function(){var e;if("@"===d.currentChar()&&(e=d.$re(/^(@[\w-]+)\(\s*\)\s*;/)))return new t.RulesetCall(e[1])},extend:function(e){var n,i,r,o,s,a=d.i;if(d.$str(e?"&:extend(":":extend(")){do{for(r=null,n=null;!(r=d.$re(/^(all)(?=\s*(\)|,))/))&&(i=this.element());)n?n.push(i):n=[i];r=r&&r[1],n||u("Missing target selector for :extend()."),s=new t.Extend(new t.Selector(n),r,a,l),o?o.push(s):o=[s]}while(d.$char(","));return c(/^\)/),e&&c(/^;/),o}},extendRule:function(){return this.extend(!0)},mixin:{call:function(){var e,n,i,r,o,s,a=d.currentChar(),u=!1,c=d.i;if("."===a||"#"===a){for(d.save();;){if(e=d.i,!(r=d.$re(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)))break;i=new t.Element(o,r,e,l),n?n.push(i):n=[i],o=d.$char(">")}if(n&&(d.$char("(")&&(s=this.args(!0).args,h(")")),p.important()&&(u=!0),p.end()))return d.forget(),new t.mixin.Call(n,s,c,l,u);d.restore()}},args:function(e){var n,i,r,o,s,a,l,c=p.entities,h={args:null,variadic:!1},f=[],v=[],m=[];for(d.save();;){if(e)a=p.detachedRuleset()||p.expression();else{if(d.commentStore.length=0,d.$str("...")){h.variadic=!0,d.$char(";")&&!n&&(n=!0),(n?v:m).push({variadic:!0});break}a=c.variable()||c.literal()||c.keyword()}if(!a)break;o=null,a.throwAwayComments&&a.throwAwayComments(),s=a;var g=null;if(e?a.value&&1==a.value.length&&(g=a.value[0]):g=a,g&&g instanceof t.Variable)if(d.$char(":")){if(f.length>0&&(n&&u("Cannot mix ; and , as delimiter types"),i=!0),!(s=p.detachedRuleset()||p.expression())){if(!e)return d.restore(),h.args=[],h;u("could not understand value for named argument")}o=r=g.name}else if(d.$str("...")){if(!e){h.variadic=!0,d.$char(";")&&!n&&(n=!0),(n?v:m).push({name:a.name,variadic:!0});break}l=!0}else e||(r=o=g.name,s=null);s&&f.push(s),m.push({name:o,value:s,expand:l}),d.$char(",")||(d.$char(";")||n)&&(i&&u("Cannot mix ; and , as delimiter types"),n=!0,f.length>1&&(s=new t.Value(f)),v.push({name:r,value:s,expand:l}),r=null,f=[],i=!1)}return d.forget(),h.args=n?v:m,h},definition:function(){var e,n,i,r,o=[],s=!1;if(!("."!==d.currentChar()&&"#"!==d.currentChar()||d.peek(/^[^{]*\}/)))if(d.save(),n=d.$re(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){e=n[1];var a=this.args(!1);if(o=a.args,s=a.variadic,!d.$char(")"))return void d.restore("Missing closing ')'");if(d.commentStore.length=0,d.$str("when")&&(r=c(p.conditions,"expected condition")),i=p.block())return d.forget(),new t.mixin.Definition(e,o,i,r,s);d.restore()}else d.forget()}},entity:function(){var e=this.entities;return this.comment()||e.literal()||e.variable()||e.url()||e.call()||e.keyword()||e.javascript()},end:function(){return d.$char(";")||d.peek("}")},alpha:function(){var e;if(d.$re(/^opacity=/i))return e=d.$re(/^\d+/),e||(e=c(this.entities.variable,"Could not parse alpha")),h(")"),new t.Alpha(e)},element:function(){var e,n,i,r=d.i;if(n=this.combinator(),e=d.$re(/^(?:\d+\.\d+|\d+)%/)||d.$re(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||d.$char("*")||d.$char("&")||this.attribute()||d.$re(/^\([^&()@]+\)/)||d.$re(/^[\.#:](?=@)/)||this.entities.variableCurly(),e||(d.save(),d.$char("(")?(i=this.selector())&&d.$char(")")?(e=new t.Paren(i),d.forget()):d.restore("Missing closing ')'"):d.forget()),e)return new t.Element(n,e,r,l)},combinator:function(){var e=d.currentChar();if("/"===e){d.save();var n=d.$re(/^\/[a-z]+\//i);if(n)return d.forget(),new t.Combinator(n);d.restore()}if(">"===e||"+"===e||"~"===e||"|"===e||"^"===e){for(d.i++,"^"===e&&"^"===d.currentChar()&&(e="^^",d.i++);d.isWhitespace();)d.i++;return new t.Combinator(e)}return d.isWhitespace(-1)?new t.Combinator(" "):new t.Combinator(null)},lessSelector:function(){return this.selector(!0)},selector:function(e){for(var n,i,r,o,s,a,h,f=d.i;(e&&(i=this.extend())||e&&(a=d.$str("when"))||(o=this.element()))&&(a?h=c(this.conditions,"expected condition"):h?u("CSS guard can only be used at the end of selector"):i?s=s?s.concat(i):i:(s&&u("Extend can only be used at the end of selector"),r=d.currentChar(),n?n.push(o):n=[o],o=null),"{"!==r&&"}"!==r&&";"!==r&&","!==r&&")"!==r););if(n)return new t.Selector(n,s,h,f,l);s&&u("Extend must be used to extend a selector, it cannot be used on its own")},attribute:function(){if(d.$char("[")){var e,n,i,r=this.entities;return(e=r.variableCurly())||(e=c(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)),i=d.$re(/^[|~*$^]?=/),i&&(n=r.quoted()||d.$re(/^[0-9]+%/)||d.$re(/^[\w-]+/)||r.variableCurly()),h("]"),new t.Attribute(e,i,n)}},block:function(){var e;if(d.$char("{")&&(e=this.primary())&&d.$char("}"))return e},blockRuleset:function(){var e=this.block();return e&&(e=new t.Ruleset(null,e)),e},detachedRuleset:function(){var e=this.blockRuleset();if(e)return new t.DetachedRuleset(e)},ruleset:function(){var e,n,i,r;for(d.save(),s.dumpLineNumbers&&(r=f(d.i));;){if(!(n=this.lessSelector()))break;if(e?e.push(n):e=[n],d.commentStore.length=0,n.condition&&e.length>1&&u("Guards are only currently allowed on a single selector."),!d.$char(","))break;n.condition&&u("Guards are only currently allowed on a single selector."),d.commentStore.length=0}if(e&&(i=this.block())){d.forget();var o=new t.Ruleset(e,i,s.strictImports);return s.dumpLineNumbers&&(o.debugInfo=r),o}d.restore()},rule:function(e){var n,i,r,o,a,u=d.i,c=d.currentChar();if("."!==c&&"#"!==c&&"&"!==c&&":"!==c)if(d.save(),n=this.variable()||this.ruleProperty()){if(a="string"==typeof n,a&&(i=this.detachedRuleset()),d.commentStore.length=0,!i){o=!a&&n.length>1&&n.pop().value;var h=!e&&(s.compress||a);if(h&&(i=this.value()),!i&&(i=this.anonymousValue()))return d.forget(),new t.Rule(n,i,!1,o,u,l);h||i||(i=this.value()),r=this.important()}if(i&&this.end())return d.forget(),new t.Rule(n,i,r,o,u,l);if(d.restore(),i&&!e)return this.rule(!0)}else d.forget()},anonymousValue:function(){var e=d.$re(/^([^@+\/'"*`(;{}-]*);/);if(e)return new t.Anonymous(e[1])},import:function(){var e,n,i=d.i,r=d.$re(/^@import?\s+/);if(r){var o=(r?this.importOptions():null)||{};if(e=this.entities.quoted()||this.entities.url())return n=this.mediaFeatures(),d.$char(";")||(d.i=i,u("missing semi-colon or unrecognised media features on import")),n=n&&new t.Value(n),new t.Import(e,n,o,i,l);d.i=i,u("malformed import statement")}},importOptions:function(){var e,t,n,i={};if(!d.$char("("))return null;do{if(e=this.importOption()){switch(t=e,n=!0,t){case"css":t="less",n=!1;break;case"once":t="multiple",n=!1}if(i[t]=n,!d.$char(","))break}}while(e);return h(")"),i},importOption:function(){var e=d.$re(/^(less|css|multiple|once|inline|reference|optional)/);if(e)return e[1]},mediaFeature:function(){var e,n,i=this.entities,r=[];d.save();do{e=i.keyword()||i.variable(),e?r.push(e):d.$char("(")&&(n=this.property(),e=this.value(),d.$char(")")?n&&e?r.push(new t.Paren(new t.Rule(n,e,null,null,d.i,l,!0))):e?r.push(new t.Paren(e)):u("badly formed media feature definition"):u("Missing closing ')'","Parse"))}while(e);if(d.forget(),r.length>0)return new t.Expression(r)},mediaFeatures:function(){var e,t=this.entities,n=[];do{if(e=this.mediaFeature()){if(n.push(e),!d.$char(","))break}else if((e=t.variable())&&(n.push(e),!d.$char(",")))break}while(e);return n.length>0?n:null},media:function(){var e,n,i,r,o=d.i;if(s.dumpLineNumbers&&(r=f(o)),d.save(),d.$str("@media"))return e=this.mediaFeatures(),n=this.block(),n||u("media definitions require block statements after any features"),d.forget(),i=new t.Media(n,e,o,l),s.dumpLineNumbers&&(i.debugInfo=r),i;d.restore()},plugin:function(){var e,n=d.i;if(d.$re(/^@plugin?\s+/)){var i={plugin:!0};if(e=this.entities.quoted()||this.entities.url())return d.$char(";")||(d.i=n,u("missing semi-colon on plugin")),new t.Import(e,null,i,n,l);d.i=n,u("malformed plugin statement")}},directive:function(){var e,n,i,r,o,a,c,h=d.i,p=!0,v=!0;if("@"===d.currentChar()){if(n=this.import()||this.plugin()||this.media())return n;if(d.save(),e=d.$re(/^@[a-z-]+/)){switch(r=e,"-"==e.charAt(1)&&e.indexOf("-",2)>0&&(r="@"+e.slice(e.indexOf("-",2)+1)),r){case"@charset":o=!0,p=!1;break;case"@namespace":a=!0,p=!1;break;case"@keyframes":case"@counter-style":o=!0;break;case"@document":case"@supports":c=!0,v=!1;break;default:c=!0}if(d.commentStore.length=0,o?(n=this.entity())||u("expected "+e+" identifier"):a?(n=this.expression())||u("expected "+e+" expression"):c&&(n=(d.$re(/^[^{;]+/)||"").trim(),p="{"==d.currentChar(),n&&(n=new t.Anonymous(n))),p&&(i=this.blockRuleset()),i||!p&&n&&d.$char(";"))return d.forget(),new t.Directive(e,n,i,h,l,s.dumpLineNumbers?f(h):null,v);d.restore("directive options not recognised")}}},value:function(){var e,n=[];do{if((e=this.expression())&&(n.push(e),!d.$char(",")))break}while(e);if(n.length>0)return new t.Value(n)},important:function(){if("!"===d.currentChar())return d.$re(/^! *important/)},sub:function(){var e,n;if(d.save(),d.$char("("))return(e=this.addition())&&d.$char(")")?(d.forget(),n=new t.Expression([e]),n.parens=!0,n):void d.restore("Expected ')'");d.restore()},multiplication:function(){var e,n,i,r,o;if(e=this.operand()){for(o=d.isWhitespace(-1);;){if(d.peek(/^\/[*\/]/))break;if(d.save(),!(i=d.$char("/")||d.$char("*"))){d.forget();break}if(!(n=this.operand())){d.restore();break}d.forget(),e.parensInOp=!0,n.parensInOp=!0,r=new t.Operation(i,[r||e,n],o),o=d.isWhitespace(-1)}return r||e}},addition:function(){var e,n,i,r,o;if(e=this.multiplication()){for(o=d.isWhitespace(-1);;){if(!(i=d.$re(/^[-+]\s+/)||!o&&(d.$char("+")||d.$char("-"))))break;if(!(n=this.multiplication()))break;e.parensInOp=!0,n.parensInOp=!0,r=new t.Operation(i,[r||e,n],o),o=d.isWhitespace(-1)}return r||e}},conditions:function(){var e,n,i,r=d.i;if(e=this.condition()){for(;;){if(!d.peek(/^,\s*(not\s*)?\(/)||!d.$char(","))break;if(!(n=this.condition()))break;i=new t.Condition("or",i||e,n,r)}return i||e}},condition:function(){var e,n,i;if(e=this.conditionAnd(this)){if(n=function(){return d.$str("or")}()){if(!(i=this.condition()))return;e=new t.Condition(n,e,i)}return e}},conditionAnd:function(){var e,n,i;if(e=function(e){return e.negatedCondition()||e.parenthesisCondition()}(this)){if(n=function(){return d.$str("and")}()){if(!(i=this.conditionAnd()))return;e=new t.Condition(n,e,i)}return e}},negatedCondition:function(){if(d.$str("not")){var e=this.parenthesisCondition();return e&&(e.negate=!e.negate),e}},parenthesisCondition:function(){var e;return d.save(),d.$str("(")?(e=function(e){var t;return d.save(),(t=e.condition())&&d.$char(")")?(d.forget(),t):void d.restore()}(this))?(d.forget(),e):(e=this.atomicCondition())?d.$char(")")?(d.forget(),e):void d.restore("expected ')' got '"+d.currentChar()+"'"):void d.restore():void d.restore()},atomicCondition:function(){var e,n,i,r,o=this.entities,s=d.i;if(e=this.addition()||o.keyword()||o.quoted())return d.$char(">")?r=d.$char("=")?">=":">":d.$char("<")?r=d.$char("=")?"<=":"<":d.$char("=")&&(r=d.$char(">")?"=>":d.$char("<")?"=<":"="),r?(n=this.addition()||o.keyword()||o.quoted(),n?i=new t.Condition(r,e,n,s,!1):u("expected expression")):i=new t.Condition("=",e,new t.Keyword("true"),s,!1),i},operand:function(){var e,n=this.entities;d.peek(/^-[@\(]/)&&(e=d.$char("-"));var i=this.sub()||n.dimension()||n.color()||n.variable()||n.call()||n.colorKeyword();return e&&(i.parensInOp=!0,i=new t.Negative(i)),i},expression:function(){var e,n,i=[];do{e=this.comment(),e?i.push(e):(e=this.addition()||this.entity())&&(i.push(e),d.peek(/^\/[\/*]/)||(n=d.$char("/"))&&i.push(new t.Anonymous(n)))}while(e);if(i.length>0)return new t.Expression(i)},property:function(){var e=d.$re(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);if(e)return e[1]},ruleProperty:function(){function e(e){var t=d.i,n=d.$re(e);if(n)return o.push(t),r.push(n[1])}var n,i,r=[],o=[];d.save();var s=d.$re(/^([_a-zA-Z0-9-]+)\s*:/);if(s)return r=[new t.Keyword(s[1])],d.forget(),r;for(e(/^(\*?)/);;)if(!e(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/))break;if(r.length>1&&e(/^((?:\+_|\+)?)\s*:/)){for(d.forget(),""===r[0]&&(r.shift(),o.shift()),i=0;i<r.length;i++)n=r[i],r[i]="@"!==n.charAt(0)?new t.Keyword(n):new t.Variable("@"+n.slice(2,-1),o[i],l);return r}d.restore()}}}};o.serializeVars=function(e){var t="";for(var n in e)if(Object.hasOwnProperty.call(e,n)){var i=e[n];t+=("@"===n[0]?"":"@")+n+": "+i+(";"===String(i).slice(-1)?"":";")}return t},module.exports=o},{"../less-error":32,"../tree":62,"../utils":83,"../visitors":87,"./parser-input":37}],39:[function(require,module,exports){var e=function(e){this.less=e,this.visitors=[],this.preProcessors=[],this.postProcessors=[],this.installedPlugins=[],this.fileManagers=[]};e.prototype.addPlugins=function(e){if(e)for(var t=0;t<e.length;t++)this.addPlugin(e[t])},
e.prototype.addPlugin=function(e){this.installedPlugins.push(e),e.install(this.less,this)},e.prototype.addVisitor=function(e){this.visitors.push(e)},e.prototype.addPreProcessor=function(e,t){var n;for(n=0;n<this.preProcessors.length&&!(this.preProcessors[n].priority>=t);n++);this.preProcessors.splice(n,0,{preProcessor:e,priority:t})},e.prototype.addPostProcessor=function(e,t){var n;for(n=0;n<this.postProcessors.length&&!(this.postProcessors[n].priority>=t);n++);this.postProcessors.splice(n,0,{postProcessor:e,priority:t})},e.prototype.addFileManager=function(e){this.fileManagers.push(e)},e.prototype.getPreProcessors=function(){for(var e=[],t=0;t<this.preProcessors.length;t++)e.push(this.preProcessors[t].preProcessor);return e},e.prototype.getPostProcessors=function(){for(var e=[],t=0;t<this.postProcessors.length;t++)e.push(this.postProcessors[t].postProcessor);return e},e.prototype.getVisitors=function(){return this.visitors},e.prototype.getFileManagers=function(){return this.fileManagers},module.exports=e},{}],40:[function(require,module,exports){var e=require("../less-error"),t=require("../tree");(module.exports=function(e,t){this.fileInfo=t}).prototype.eval=function(n,i){var r,o={};r={add:function(e,t){o[e]=t},addMultiple:function(e){Object.keys(e).forEach(function(t){o[t]=e[t]})}};try{new Function("functions","tree","fileInfo",n)(r,t,this.fileInfo)}catch(t){i(new e({message:"Plugin evaluation error: '"+t.name+": "+t.message.replace(/["]/g,"'")+"'",filename:this.fileInfo.filename}),null)}i(null,{functions:o})}},{"../less-error":32,"../tree":62}],41:[function(require,module,exports){var e;module.exports=function(t,n,i){var r=function(t,i,o){if("function"==typeof i&&(o=i,i={}),!o){e||(e="undefined"==typeof Promise?require("promise"):Promise);var s=this;return new e(function(e,n){r.call(s,t,i,function(t,i){t?n(t):e(i)})})}this.parse(t,i,function(e,t,i,r){if(e)return o(e);var s;try{s=new n(t,i).toCSS(r)}catch(e){return o(e)}o(null,s)})};return r}},{promise:void 0}],42:[function(require,module,exports){module.exports=function(e,t){var n=function(e){this.options=e};return n.prototype.toCSS=function(t,n,i){var r=new e({contentsIgnoredCharsMap:i.contentsIgnoredChars,rootNode:t,contentsMap:i.contents,sourceMapFilename:this.options.sourceMapFilename,sourceMapURL:this.options.sourceMapURL,outputFilename:this.options.sourceMapOutputFilename,sourceMapBasepath:this.options.sourceMapBasepath,sourceMapRootpath:this.options.sourceMapRootpath,outputSourceFiles:this.options.outputSourceFiles,sourceMapGenerator:this.options.sourceMapGenerator,sourceMapFileInline:this.options.sourceMapFileInline}),o=r.toCSS(n);return this.sourceMap=r.sourceMap,this.sourceMapURL=r.sourceMapURL,this.options.sourceMapInputFilename&&(this.sourceMapInputFilename=r.normalizeFilename(this.options.sourceMapInputFilename)),o+this.getCSSAppendage()},n.prototype.getCSSAppendage=function(){var e=this.sourceMapURL;if(this.options.sourceMapFileInline){if(void 0===this.sourceMap)return"";e="data:application/json;base64,"+t.encodeBase64(this.sourceMap)}return e?"/*# sourceMappingURL="+e+" */":""},n.prototype.getExternalSourceMap=function(){return this.sourceMap},n.prototype.setExternalSourceMap=function(e){this.sourceMap=e},n.prototype.isInline=function(){return this.options.sourceMapFileInline},n.prototype.getSourceMapURL=function(){return this.sourceMapURL},n.prototype.getOutputFilename=function(){return this.options.sourceMapOutputFilename},n.prototype.getInputFilename=function(){return this.sourceMapInputFilename},n}},{}],43:[function(require,module,exports){module.exports=function(e){var t=function(t){this._css=[],this._rootNode=t.rootNode,this._contentsMap=t.contentsMap,this._contentsIgnoredCharsMap=t.contentsIgnoredCharsMap,t.sourceMapFilename&&(this._sourceMapFilename=t.sourceMapFilename.replace(/\\/g,"/")),this._outputFilename=t.outputFilename,this.sourceMapURL=t.sourceMapURL,t.sourceMapBasepath&&(this._sourceMapBasepath=t.sourceMapBasepath.replace(/\\/g,"/")),t.sourceMapRootpath?(this._sourceMapRootpath=t.sourceMapRootpath.replace(/\\/g,"/"),"/"!==this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)&&(this._sourceMapRootpath+="/")):this._sourceMapRootpath="",this._outputSourceFiles=t.outputSourceFiles,this._sourceMapGeneratorConstructor=e.getSourceMapGenerator(),this._lineNumber=0,this._column=0};return t.prototype.normalizeFilename=function(e){return e=e.replace(/\\/g,"/"),this._sourceMapBasepath&&0===e.indexOf(this._sourceMapBasepath)&&(e=e.substring(this._sourceMapBasepath.length),"\\"!==e.charAt(0)&&"/"!==e.charAt(0)||(e=e.substring(1))),(this._sourceMapRootpath||"")+e},t.prototype.add=function(e,t,n,i){if(e){var r,o,s,a,l;if(t){var u=this._contentsMap[t.filename];this._contentsIgnoredCharsMap[t.filename]&&(n-=this._contentsIgnoredCharsMap[t.filename],n<0&&(n=0),u=u.slice(this._contentsIgnoredCharsMap[t.filename])),u=u.substring(0,n),o=u.split("\n"),a=o[o.length-1]}if(r=e.split("\n"),s=r[r.length-1],t)if(i)for(l=0;l<r.length;l++)this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+l+1,column:0===l?this._column:0},original:{line:o.length+l,column:0===l?a.length:0},source:this.normalizeFilename(t.filename)});else this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:o.length,column:a.length},source:this.normalizeFilename(t.filename)});1===r.length?this._column+=s.length:(this._lineNumber+=r.length-1,this._column=s.length),this._css.push(e)}},t.prototype.isEmpty=function(){return 0===this._css.length},t.prototype.toCSS=function(e){if(this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null}),this._outputSourceFiles)for(var t in this._contentsMap)if(this._contentsMap.hasOwnProperty(t)){var n=this._contentsMap[t];this._contentsIgnoredCharsMap[t]&&(n=n.slice(this._contentsIgnoredCharsMap[t])),this._sourceMapGenerator.setSourceContent(this.normalizeFilename(t),n)}if(this._rootNode.genCSS(e,this),this._css.length>0){var i,r=JSON.stringify(this._sourceMapGenerator.toJSON());this.sourceMapURL?i=this.sourceMapURL:this._sourceMapFilename&&(i=this._sourceMapFilename),this.sourceMapURL=i,this.sourceMap=r}return this._css.join("")},t}},{}],44:[function(require,module,exports){var e=require("./contexts"),t=require("./visitors"),n=require("./tree");module.exports=function(i,r){r=r||{};var o,s=r.variables,a=new e.Eval(r);"object"!=typeof s||Array.isArray(s)||(s=Object.keys(s).map(function(e){var t=s[e];return t instanceof n.Value||(t instanceof n.Expression||(t=new n.Expression([t])),t=new n.Value([t])),new n.Rule("@"+e,t,!1,null,0)}),a.frames=[new n.Ruleset(null,s)]);var l,u=[],c=[new t.JoinSelectorVisitor,new t.MarkVisibleSelectorsVisitor(!0),new t.ExtendVisitor,new t.ToCSSVisitor({compress:Boolean(r.compress)})];if(r.pluginManager){var h=r.pluginManager.getVisitors();for(l=0;l<h.length;l++){var f=h[l];f.isPreEvalVisitor?u.push(f):f.isPreVisitor?c.splice(0,0,f):c.push(f)}}for(l=0;l<u.length;l++)u[l].run(i);for(o=i.eval(a),l=0;l<c.length;l++)c[l].run(o);return o}},{"./contexts":11,"./tree":62,"./visitors":87}],45:[function(require,module,exports){var e=require("./node"),t=function(e){this.value=e};t.prototype=new e,t.prototype.type="Alpha",t.prototype.accept=function(e){this.value=e.visit(this.value)},t.prototype.eval=function(e){return this.value.eval?new t(this.value.eval(e)):this},t.prototype.genCSS=function(e,t){t.add("alpha(opacity="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value),t.add(")")},module.exports=t},{"./node":70}],46:[function(require,module,exports){var e=require("./node"),t=function(e,t,n,i,r,o){this.value=e,this.index=t,this.mapLines=i,this.currentFileInfo=n,this.rulesetLike=void 0!==r&&r,this.allowRoot=!0,this.copyVisibilityInfo(o)};t.prototype=new e,t.prototype.type="Anonymous",t.prototype.eval=function(){return new t(this.value,this.index,this.currentFileInfo,this.mapLines,this.rulesetLike,this.visibilityInfo())},t.prototype.compare=function(e){return e.toCSS&&this.toCSS()===e.toCSS()?0:void 0},t.prototype.isRulesetLike=function(){return this.rulesetLike},t.prototype.genCSS=function(e,t){t.add(this.value,this.currentFileInfo,this.index,this.mapLines)},module.exports=t},{"./node":70}],47:[function(require,module,exports){var e=require("./node"),t=function(e,t){this.key=e,this.value=t};t.prototype=new e,t.prototype.type="Assignment",t.prototype.accept=function(e){this.value=e.visit(this.value)},t.prototype.eval=function(e){return this.value.eval?new t(this.key,this.value.eval(e)):this},t.prototype.genCSS=function(e,t){t.add(this.key+"="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value)},module.exports=t},{"./node":70}],48:[function(require,module,exports){var e=require("./node"),t=function(e,t,n){this.key=e,this.op=t,this.value=n};t.prototype=new e,t.prototype.type="Attribute",t.prototype.eval=function(e){return new t(this.key.eval?this.key.eval(e):this.key,this.op,this.value&&this.value.eval?this.value.eval(e):this.value)},t.prototype.genCSS=function(e,t){t.add(this.toCSS(e))},t.prototype.toCSS=function(e){var t=this.key.toCSS?this.key.toCSS(e):this.key;return this.op&&(t+=this.op,t+=this.value.toCSS?this.value.toCSS(e):this.value),"["+t+"]"},module.exports=t},{"./node":70}],49:[function(require,module,exports){var e=require("./node"),t=require("../functions/function-caller"),n=function(e,t,n,i){this.name=e,this.args=t,this.index=n,this.currentFileInfo=i};n.prototype=new e,n.prototype.type="Call",n.prototype.accept=function(e){this.args&&(this.args=e.visitArray(this.args))},n.prototype.eval=function(e){var i,r=this.args.map(function(t){return t.eval(e)}),o=new t(this.name,e,this.index,this.currentFileInfo);if(o.isValid()){try{i=o.call(r)}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.currentFileInfo.filename}}if(null!=i)return i.index=this.index,i.currentFileInfo=this.currentFileInfo,i}return new n(this.name,r,this.index,this.currentFileInfo)},n.prototype.genCSS=function(e,t){t.add(this.name+"(",this.currentFileInfo,this.index);for(var n=0;n<this.args.length;n++)this.args[n].genCSS(e,t),n+1<this.args.length&&t.add(", ");t.add(")")},module.exports=n},{"../functions/function-caller":21,"./node":70}],50:[function(require,module,exports){function e(e,t){return Math.min(Math.max(e,0),t)}function t(t){return"#"+t.map(function(t){return t=e(Math.round(t),255),(t<16?"0":"")+t.toString(16)}).join("")}var n=require("./node"),i=require("../data/colors"),r=function(e,t,n){Array.isArray(e)?this.rgb=e:6==e.length?this.rgb=e.match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=e.split("").map(function(e){return parseInt(e+e,16)}),this.alpha="number"==typeof t?t:1,void 0!==n&&(this.value=n)};r.prototype=new n,r.prototype.type="Color",r.prototype.luma=function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,n=this.rgb[2]/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),n=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*e+.7152*t+.0722*n},r.prototype.genCSS=function(e,t){t.add(this.toCSS(e))},r.prototype.toCSS=function(t,n){var i,r,o=t&&t.compress&&!n;if(this.value)return this.value;if((r=this.fround(t,this.alpha))<1)return"rgba("+this.rgb.map(function(t){return e(Math.round(t),255)}).concat(e(r,1)).join(","+(o?"":" "))+")";if(i=this.toRGB(),o){var s=i.split("");s[1]===s[2]&&s[3]===s[4]&&s[5]===s[6]&&(i="#"+s[1]+s[3]+s[5])}return i},r.prototype.operate=function(e,t,n){for(var i=[],o=this.alpha*(1-n.alpha)+n.alpha,s=0;s<3;s++)i[s]=this._operate(e,t,this.rgb[s],n.rgb[s]);return new r(i,o)},r.prototype.toRGB=function(){return t(this.rgb)},r.prototype.toHSL=function(){var e,t,n=this.rgb[0]/255,i=this.rgb[1]/255,r=this.rgb[2]/255,o=this.alpha,s=Math.max(n,i,r),a=Math.min(n,i,r),l=(s+a)/2,u=s-a;if(s===a)e=t=0;else{switch(t=l>.5?u/(2-s-a):u/(s+a),s){case n:e=(i-r)/u+(i<r?6:0);break;case i:e=(r-n)/u+2;break;case r:e=(n-i)/u+4}e/=6}return{h:360*e,s:t,l:l,a:o}},r.prototype.toHSV=function(){var e,t,n=this.rgb[0]/255,i=this.rgb[1]/255,r=this.rgb[2]/255,o=this.alpha,s=Math.max(n,i,r),a=Math.min(n,i,r),l=s,u=s-a;if(t=0===s?0:u/s,s===a)e=0;else{switch(s){case n:e=(i-r)/u+(i<r?6:0);break;case i:e=(r-n)/u+2;break;case r:e=(n-i)/u+4}e/=6}return{h:360*e,s:t,v:l,a:o}},r.prototype.toARGB=function(){return t([255*this.alpha].concat(this.rgb))},r.prototype.compare=function(e){return e.rgb&&e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:void 0},r.fromKeyword=function(e){var t,n=e.toLowerCase();if(i.hasOwnProperty(n)?t=new r(i[n].slice(1)):"transparent"===n&&(t=new r([0,0,0],0)),t)return t.value=e,t},module.exports=r},{"../data/colors":12,"./node":70}],51:[function(require,module,exports){var e=require("./node"),t=function(e){" "===e?(this.value=" ",this.emptyOrWhitespace=!0):(this.value=e?e.trim():"",this.emptyOrWhitespace=""===this.value)};t.prototype=new e,t.prototype.type="Combinator";var n={"":!0," ":!0,"|":!0};t.prototype.genCSS=function(e,t){var i=e.compress||n[this.value]?"":" ";t.add(i+this.value+i)},module.exports=t},{"./node":70}],52:[function(require,module,exports){var e=require("./node"),t=require("./debug-info"),n=function(e,t,n,i){this.value=e,this.isLineComment=t,this.currentFileInfo=i,this.allowRoot=!0};n.prototype=new e,n.prototype.type="Comment",n.prototype.genCSS=function(e,n){this.debugInfo&&n.add(t(e,this),this.currentFileInfo,this.index),n.add(this.value)},n.prototype.isSilent=function(e){var t=e.compress&&"!"!==this.value[2];return this.isLineComment||t},module.exports=n},{"./debug-info":54,"./node":70}],53:[function(require,module,exports){var e=require("./node"),t=function(e,t,n,i,r){this.op=e.trim(),this.lvalue=t,this.rvalue=n,this.index=i,this.negate=r};t.prototype=new e,t.prototype.type="Condition",t.prototype.accept=function(e){this.lvalue=e.visit(this.lvalue),this.rvalue=e.visit(this.rvalue)},t.prototype.eval=function(t){var n=function(t,n,i){switch(t){case"and":return n&&i;case"or":return n||i;default:switch(e.compare(n,i)){case-1:return"<"===t||"=<"===t||"<="===t;case 0:return"="===t||">="===t||"=<"===t||"<="===t;case 1:return">"===t||">="===t;default:return!1}}}(this.op,this.lvalue.eval(t),this.rvalue.eval(t));return this.negate?!n:n},module.exports=t},{"./node":70}],54:[function(require,module,exports){var e=function(t,n,i){var r="";if(t.dumpLineNumbers&&!t.compress)switch(t.dumpLineNumbers){case"comments":r=e.asComment(n);break;case"mediaquery":r=e.asMediaQuery(n);break;case"all":r=e.asComment(n)+(i||"")+e.asMediaQuery(n)}return r};e.asComment=function(e){return"/* line "+e.debugInfo.lineNumber+", "+e.debugInfo.fileName+" */\n"},e.asMediaQuery=function(e){var t=e.debugInfo.fileName;return/^[a-z]+:\/\//i.test(t)||(t="file://"+t),"@media -sass-debug-info{filename{font-family:"+t.replace(/([.:\/\\])/g,function(e){return"\\"==e&&(e="/"),"\\"+e})+"}line{font-family:\\00003"+e.debugInfo.lineNumber+"}}\n"},module.exports=e},{}],55:[function(require,module,exports){var e=require("./node"),t=require("../contexts"),n=function(e,t){this.ruleset=e,this.frames=t};n.prototype=new e,n.prototype.type="DetachedRuleset",n.prototype.evalFirst=!0,n.prototype.accept=function(e){this.ruleset=e.visit(this.ruleset)},n.prototype.eval=function(e){var t=this.frames||e.frames.slice(0);return new n(this.ruleset,t)},n.prototype.callEval=function(e){return this.ruleset.eval(this.frames?new t.Eval(e,this.frames.concat(e.frames)):e)},module.exports=n},{"../contexts":11,"./node":70}],56:[function(require,module,exports){var e=require("./node"),t=require("../data/unit-conversions"),n=require("./unit"),i=require("./color"),r=function(e,t){this.value=parseFloat(e),this.unit=t&&t instanceof n?t:new n(t?[t]:void 0)};r.prototype=new e,r.prototype.type="Dimension",r.prototype.accept=function(e){this.unit=e.visit(this.unit)},r.prototype.eval=function(e){return this},r.prototype.toColor=function(){return new i([this.value,this.value,this.value])},r.prototype.genCSS=function(e,t){if(e&&e.strictUnits&&!this.unit.isSingular())throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());var n=this.fround(e,this.value),i=String(n);if(0!==n&&n<1e-6&&n>-1e-6&&(i=n.toFixed(20).replace(/0+$/,"")),e&&e.compress){if(0===n&&this.unit.isLength())return void t.add(i);n>0&&n<1&&(i=i.substr(1))}t.add(i),this.unit.genCSS(e,t)},r.prototype.operate=function(e,t,n){var i=this._operate(e,t,this.value,n.value),o=this.unit.clone();if("+"===t||"-"===t)if(0===o.numerator.length&&0===o.denominator.length)o=n.unit.clone(),this.unit.backupUnit&&(o.backupUnit=this.unit.backupUnit);else if(0===n.unit.numerator.length&&0===o.denominator.length);else{if(n=n.convertTo(this.unit.usedUnits()),e.strictUnits&&n.unit.toString()!==o.toString())throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+o.toString()+"' and '"+n.unit.toString()+"'.");i=this._operate(e,t,this.value,n.value)}else"*"===t?(o.numerator=o.numerator.concat(n.unit.numerator).sort(),o.denominator=o.denominator.concat(n.unit.denominator).sort(),o.cancel()):"/"===t&&(o.numerator=o.numerator.concat(n.unit.denominator).sort(),o.denominator=o.denominator.concat(n.unit.numerator).sort(),o.cancel());return new r(i,o)},r.prototype.compare=function(t){var n,i;if(t instanceof r){if(this.unit.isEmpty()||t.unit.isEmpty())n=this,i=t;else if(n=this.unify(),i=t.unify(),0!==n.unit.compare(i.unit))return;return e.numericCompare(n.value,i.value)}},r.prototype.unify=function(){return this.convertTo({length:"px",duration:"s",angle:"rad"})},r.prototype.convertTo=function(e){var n,i,o,s,a,l=this.value,u=this.unit.clone(),c={};if("string"==typeof e){for(n in t)t[n].hasOwnProperty(e)&&(c={},c[n]=e);e=c}a=function(e,t){return o.hasOwnProperty(e)?(t?l/=o[e]/o[s]:l*=o[e]/o[s],s):e};for(i in e)e.hasOwnProperty(i)&&(s=e[i],o=t[i],u.map(a));return u.cancel(),new r(l,u)},module.exports=r},{"../data/unit-conversions":14,"./color":50,"./node":70,"./unit":79}],57:[function(require,module,exports){var e=require("./node"),t=require("./selector"),n=require("./ruleset"),i=function(e,n,i,r,o,s,a,l){var u;if(this.name=e,this.value=n,i)for(Array.isArray(i)?this.rules=i:(this.rules=[i],this.rules[0].selectors=new t([],null,null,this.index,o).createEmptySelectors()),u=0;u<this.rules.length;u++)this.rules[u].allowImports=!0;this.index=r,this.currentFileInfo=o,this.debugInfo=s,this.isRooted=a||!1,this.copyVisibilityInfo(l),this.allowRoot=!0};i.prototype=new e,i.prototype.type="Directive",i.prototype.accept=function(e){var t=this.value,n=this.rules;n&&(this.rules=e.visitArray(n)),t&&(this.value=e.visit(t))},i.prototype.isRulesetLike=function(){return this.rules||!this.isCharset()},i.prototype.isCharset=function(){return"@charset"===this.name},i.prototype.genCSS=function(e,t){var n=this.value,i=this.rules;t.add(this.name,this.currentFileInfo,this.index),n&&(t.add(" "),n.genCSS(e,t)),i?this.outputRuleset(e,t,i):t.add(";")},i.prototype.eval=function(e){var t,n,r=this.value,o=this.rules;return t=e.mediaPath,n=e.mediaBlocks,e.mediaPath=[],e.mediaBlocks=[],r&&(r=r.eval(e)),o&&(o=[o[0].eval(e)],o[0].root=!0),e.mediaPath=t,e.mediaBlocks=n,new i(this.name,r,o,this.index,this.currentFileInfo,this.debugInfo,this.isRooted,this.visibilityInfo())},i.prototype.variable=function(e){if(this.rules)return n.prototype.variable.call(this.rules[0],e)},i.prototype.find=function(){if(this.rules)return n.prototype.find.apply(this.rules[0],arguments)},i.prototype.rulesets=function(){if(this.rules)return n.prototype.rulesets.apply(this.rules[0])},i.prototype.outputRuleset=function(e,t,n){var i,r=n.length;if(e.tabLevel=1+(0|e.tabLevel),e.compress){for(t.add("{"),i=0;i<r;i++)n[i].genCSS(e,t);return t.add("}"),void e.tabLevel--}var o="\n"+Array(e.tabLevel).join("  "),s=o+"  ";if(r){for(t.add(" {"+s),n[0].genCSS(e,t),i=1;i<r;i++)t.add(s),n[i].genCSS(e,t);t.add(o+"}")}else t.add(" {"+o+"}");e.tabLevel--},module.exports=i},{"./node":70,"./ruleset":76,"./selector":77}],58:[function(require,module,exports){var e=require("./node"),t=require("./paren"),n=require("./combinator"),i=function(e,t,i,r,o){this.combinator=e instanceof n?e:new n(e),this.value="string"==typeof t?t.trim():t?t:"",this.index=i,this.currentFileInfo=r,this.copyVisibilityInfo(o)};i.prototype=new e,i.prototype.type="Element",i.prototype.accept=function(e){var t=this.value;this.combinator=e.visit(this.combinator),"object"==typeof t&&(this.value=e.visit(t))},i.prototype.eval=function(e){return new i(this.combinator,this.value.eval?this.value.eval(e):this.value,this.index,this.currentFileInfo,this.visibilityInfo())},i.prototype.clone=function(){return new i(this.combinator,this.value,this.index,this.currentFileInfo,this.visibilityInfo())},i.prototype.genCSS=function(e,t){t.add(this.toCSS(e),this.currentFileInfo,this.index)},i.prototype.toCSS=function(e){e=e||{};var n=this.value,i=e.firstSelector;return n instanceof t&&(e.firstSelector=!0),n=n.toCSS?n.toCSS(e):n,e.firstSelector=i,""===n&&"&"===this.combinator.value.charAt(0)?"":this.combinator.toCSS(e)+n},module.exports=i},{"./combinator":51,"./node":70,"./paren":72}],59:[function(require,module,exports){var e=require("./node"),t=require("./paren"),n=require("./comment"),i=function(e){if(this.value=e,!e)throw new Error("Expression requires an array parameter")};i.prototype=new e,i.prototype.type="Expression",i.prototype.accept=function(e){this.value=e.visitArray(this.value)},i.prototype.eval=function(e){var n,r=this.parens&&!this.parensInOp,o=!1;return r&&e.inParenthesis(),this.value.length>1?n=new i(this.value.map(function(t){return t.eval(e)})):1===this.value.length?(this.value[0].parens&&!this.value[0].parensInOp&&(o=!0),n=this.value[0].eval(e)):n=this,r&&e.outOfParenthesis(),this.parens&&this.parensInOp&&!e.isMathOn()&&!o&&(n=new t(n)),n},i.prototype.genCSS=function(e,t){for(var n=0;n<this.value.length;n++)this.value[n].genCSS(e,t),n+1<this.value.length&&t.add(" ")},i.prototype.throwAwayComments=function(){this.value=this.value.filter(function(e){return!(e instanceof n)})},module.exports=i},{"./comment":52,"./node":70,"./paren":72}],60:[function(require,module,exports){var e=require("./node"),t=require("./selector"),n=function e(t,n,i,r,o){switch(this.selector=t,this.option=n,this.index=i,this.object_id=e.next_id++,this.parent_ids=[this.object_id],this.currentFileInfo=r||{},this.copyVisibilityInfo(o),this.allowRoot=!0,n){case"all":this.allowBefore=!0,this.allowAfter=!0;break;default:this.allowBefore=!1,this.allowAfter=!1}};n.next_id=0,n.prototype=new e,n.prototype.type="Extend",n.prototype.accept=function(e){this.selector=e.visit(this.selector)},n.prototype.eval=function(e){return new n(this.selector.eval(e),this.option,this.index,this.currentFileInfo,this.visibilityInfo())},n.prototype.clone=function(e){return new n(this.selector,this.option,this.index,this.currentFileInfo,this.visibilityInfo())},n.prototype.findSelfSelectors=function(e){var n,i,r=[];for(n=0;n<e.length;n++)i=e[n].elements,n>0&&i.length&&""===i[0].combinator.value&&(i[0].combinator.value=" "),r=r.concat(e[n].elements);this.selfSelectors=[new t(r)],this.selfSelectors[0].copyVisibilityInfo(this.visibilityInfo())},module.exports=n},{"./node":70,"./selector":77}],61:[function(require,module,exports){var e=require("./node"),t=require("./media"),n=require("./url"),i=require("./quoted"),r=require("./ruleset"),o=require("./anonymous"),s=function(e,t,n,i,r,o){if(this.options=n,this.index=i,this.path=e,this.features=t,this.currentFileInfo=r,this.allowRoot=!0,void 0!==this.options.less||this.options.inline)this.css=!this.options.less||this.options.inline;else{var s=this.getPath();s&&/[#\.\&\?\/]css([\?;].*)?$/.test(s)&&(this.css=!0)}this.copyVisibilityInfo(o)};s.prototype=new e,s.prototype.type="Import",s.prototype.accept=function(e){this.features&&(this.features=e.visit(this.features)),this.path=e.visit(this.path),this.options.plugin||this.options.inline||!this.root||(this.root=e.visit(this.root))},s.prototype.genCSS=function(e,t){this.css&&void 0===this.path.currentFileInfo.reference&&(t.add("@import ",this.currentFileInfo,this.index),this.path.genCSS(e,t),this.features&&(t.add(" "),this.features.genCSS(e,t)),t.add(";"))},s.prototype.getPath=function(){return this.path instanceof n?this.path.value.value:this.path.value},s.prototype.isVariableImport=function(){var e=this.path;return e instanceof n&&(e=e.value),!(e instanceof i)||e.containsVariables()},s.prototype.evalForImport=function(e){var t=this.path;return t instanceof n&&(t=t.value),new s(t.eval(e),this.features,this.options,this.index,this.currentFileInfo,this.visibilityInfo())},s.prototype.evalPath=function(e){var t=this.path.eval(e),i=this.currentFileInfo&&this.currentFileInfo.rootpath;if(!(t instanceof n)){if(i){var r=t.value;r&&e.isPathRelative(r)&&(t.value=i+r)}t.value=e.normalizePath(t.value)}return t},s.prototype.eval=function(e){var t=this.doEval(e);return(this.options.reference||this.blocksVisibility())&&(t.length||0===t.length?t.forEach(function(e){e.addVisibilityBlock()}):t.addVisibilityBlock()),t},s.prototype.doEval=function(e){var n,i,a=this.features&&this.features.eval(e);if(this.options.plugin)return i=e.frames[0]&&e.frames[0].functionRegistry,i&&this.root&&this.root.functions&&i.addMultiple(this.root.functions),[];if(this.skip&&("function"==typeof this.skip&&(this.skip=this.skip()),this.skip))return[];if(this.options.inline){var l=new o(this.root,0,{filename:this.importedFilename,reference:this.path.currentFileInfo&&this.path.currentFileInfo.reference},!0,!0);return this.features?new t([l],this.features.value):[l]}if(this.css){var u=new s(this.evalPath(e),a,this.options,this.index);if(!u.css&&this.error)throw this.error;return u}return n=new r(null,this.root.rules.slice(0)),n.evalImports(e),this.features?new t(n.rules,this.features.value):n.rules},module.exports=s},{"./anonymous":46,"./media":66,"./node":70,"./quoted":73,"./ruleset":76,"./url":80}],62:[function(require,module,exports){var e={};e.Node=require("./node"),e.Alpha=require("./alpha"),e.Color=require("./color"),e.Directive=require("./directive"),e.DetachedRuleset=require("./detached-ruleset"),e.Operation=require("./operation"),e.Dimension=require("./dimension"),e.Unit=require("./unit"),e.Keyword=require("./keyword"),e.Variable=require("./variable"),e.Ruleset=require("./ruleset"),e.Element=require("./element"),e.Attribute=require("./attribute"),e.Combinator=require("./combinator"),e.Selector=require("./selector"),e.Quoted=require("./quoted"),e.Expression=require("./expression"),e.Rule=require("./rule"),e.Call=require("./call"),e.URL=require("./url"),e.Import=require("./import"),e.mixin={Call:require("./mixin-call"),Definition:require("./mixin-definition")},e.Comment=require("./comment"),e.Anonymous=require("./anonymous"),e.Value=require("./value"),e.JavaScript=require("./javascript"),e.Assignment=require("./assignment"),e.Condition=require("./condition"),e.Paren=require("./paren"),e.Media=require("./media"),e.UnicodeDescriptor=require("./unicode-descriptor"),e.Negative=require("./negative"),e.Extend=require("./extend"),e.RulesetCall=require("./ruleset-call"),module.exports=e},{"./alpha":45,"./anonymous":46,"./assignment":47,"./attribute":48,"./call":49,"./color":50,"./combinator":51,"./comment":52,"./condition":53,"./detached-ruleset":55,"./dimension":56,"./directive":57,"./element":58,"./expression":59,"./extend":60,"./import":61,"./javascript":63,"./keyword":65,"./media":66,"./mixin-call":67,"./mixin-definition":68,"./negative":69,"./node":70,"./operation":71,"./paren":72,"./quoted":73,"./rule":74,"./ruleset":76,"./ruleset-call":75,"./selector":77,"./unicode-descriptor":78,"./unit":79,"./url":80,"./value":81,"./variable":82}],63:[function(require,module,exports){var e=require("./js-eval-node"),t=require("./dimension"),n=require("./quoted"),i=require("./anonymous"),r=function(e,t,n,i){this.escaped=t,this.expression=e,this.index=n,this.currentFileInfo=i};r.prototype=new e,r.prototype.type="JavaScript",r.prototype.eval=function(e){var r=this.evaluateJavaScript(this.expression,e);return"number"==typeof r?new t(r):"string"==typeof r?new n('"'+r+'"',r,this.escaped,this.index):new i(Array.isArray(r)?r.join(", "):r)},module.exports=r},{"./anonymous":46,"./dimension":56,"./js-eval-node":64,"./quoted":73}],64:[function(require,module,exports){var e=require("./node"),t=require("./variable"),n=function(){};n.prototype=new e,n.prototype.evaluateJavaScript=function(e,n){var i,r=this,o={};if(void 0!==n.javascriptEnabled&&!n.javascriptEnabled)throw{message:"You are using JavaScript, which has been disabled.",filename:this.currentFileInfo.filename,index:this.index};e=e.replace(/@\{([\w-]+)\}/g,function(e,i){return r.jsify(new t("@"+i,r.index,r.currentFileInfo).eval(n))});try{e=new Function("return ("+e+")")}catch(t){throw{message:"JavaScript evaluation error: "+t.message+" from `"+e+"`",filename:this.currentFileInfo.filename,index:this.index}}var s=n.frames[0].variables();for(var a in s)s.hasOwnProperty(a)&&(o[a.slice(1)]={value:s[a].value,toJS:function(){return this.value.eval(n).toCSS()}});try{i=e.call(o)}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",filename:this.currentFileInfo.filename,index:this.index}}return i},n.prototype.jsify=function(e){return Array.isArray(e.value)&&e.value.length>1?"["+e.value.map(function(e){return e.toCSS()}).join(", ")+"]":e.toCSS()},module.exports=n},{"./node":70,"./variable":82}],65:[function(require,module,exports){var e=require("./node"),t=function(e){this.value=e};t.prototype=new e,t.prototype.type="Keyword",t.prototype.genCSS=function(e,t){if("%"===this.value)throw{type:"Syntax",message:"Invalid % without number"};t.add(this.value)},t.True=new t("true"),t.False=new t("false"),module.exports=t},{"./node":70}],66:[function(require,module,exports){var e=require("./ruleset"),t=require("./value"),n=require("./selector"),i=require("./anonymous"),r=require("./expression"),o=require("./directive"),s=function(i,r,o,s,a){this.index=o,this.currentFileInfo=s;var l=new n([],null,null,this.index,this.currentFileInfo).createEmptySelectors();this.features=new t(r),this.rules=[new e(l,i)],this.rules[0].allowImports=!0,this.copyVisibilityInfo(a),this.allowRoot=!0};s.prototype=new o,s.prototype.type="Media",s.prototype.isRulesetLike=!0,s.prototype.accept=function(e){this.features&&(this.features=e.visit(this.features)),this.rules&&(this.rules=e.visitArray(this.rules))},s.prototype.genCSS=function(e,t){t.add("@media ",this.currentFileInfo,this.index),this.features.genCSS(e,t),this.outputRuleset(e,t,this.rules)},s.prototype.eval=function(e){e.mediaBlocks||(e.mediaBlocks=[],e.mediaPath=[]);var t=new s(null,[],this.index,this.currentFileInfo,this.visibilityInfo());this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,t.debugInfo=this.debugInfo);var n=!1;e.strictMath||(n=!0,e.strictMath=!0);try{t.features=this.features.eval(e)}finally{n&&(e.strictMath=!1)}return e.mediaPath.push(t),e.mediaBlocks.push(t),this.rules[0].functionRegistry=e.frames[0].functionRegistry.inherit(),e.frames.unshift(this.rules[0]),t.rules=[this.rules[0].eval(e)],e.frames.shift(),e.mediaPath.pop(),0===e.mediaPath.length?t.evalTop(e):t.evalNested(e)},s.prototype.evalTop=function(t){var i=this;if(t.mediaBlocks.length>1){i=new e(new n([],null,null,this.index,this.currentFileInfo).createEmptySelectors(),t.mediaBlocks),i.multiMedia=!0,i.copyVisibilityInfo(this.visibilityInfo())}return delete t.mediaBlocks,delete t.mediaPath,i},s.prototype.evalNested=function(n){var o,s,a=n.mediaPath.concat([this]);for(o=0;o<a.length;o++)s=a[o].features instanceof t?a[o].features.value:a[o].features,a[o]=Array.isArray(s)?s:[s];return this.features=new t(this.permute(a).map(function(e){for(e=e.map(function(e){return e.toCSS?e:new i(e)}),o=e.length-1;o>0;o--)e.splice(o,0,new i("and"));return new r(e)})),new e([],[])},
s.prototype.permute=function(e){if(0===e.length)return[];if(1===e.length)return e[0];for(var t=[],n=this.permute(e.slice(1)),i=0;i<n.length;i++)for(var r=0;r<e[0].length;r++)t.push([e[0][r]].concat(n[i]));return t},s.prototype.bubbleSelectors=function(t){t&&(this.rules=[new e(t.slice(0),[this.rules[0]])])},module.exports=s},{"./anonymous":46,"./directive":57,"./expression":59,"./ruleset":76,"./selector":77,"./value":81}],67:[function(require,module,exports){var e=require("./node"),t=require("./selector"),n=require("./mixin-definition"),i=require("../functions/default"),r=function(e,n,i,r,o){this.selector=new t(e),this.arguments=n||[],this.index=i,this.currentFileInfo=r,this.important=o,this.allowRoot=!0};r.prototype=new e,r.prototype.type="MixinCall",r.prototype.accept=function(e){this.selector&&(this.selector=e.visit(this.selector)),this.arguments.length&&(this.arguments=e.visitArray(this.arguments))},r.prototype.eval=function(e){var t,r,o,s,a,l,u,c,h,f,p,d,v,m,g,y=[],b=[],w=!1,x=[],S=[],C=-1,I=0,k=1,M=2;for(l=0;l<this.arguments.length;l++)if(s=this.arguments[l],a=s.value.eval(e),s.expand&&Array.isArray(a.value))for(a=a.value,u=0;u<a.length;u++)y.push({value:a[u]});else y.push({name:s.name,value:a});for(g=function(t){return t.matchArgs(null,e)},l=0;l<e.frames.length;l++)if((t=e.frames[l].find(this.selector,null,g)).length>0){for(f=!0,u=0;u<t.length;u++){for(r=t[u].rule,o=t[u].path,h=!1,c=0;c<e.frames.length;c++)if(!(r instanceof n)&&r===(e.frames[c].originalRuleset||e.frames[c])){h=!0;break}h||r.matchArgs(y,e)&&(p={mixin:r,group:function(t,n){var r,o,s;for(r=0;r<2;r++){for(S[r]=!0,i.value(r),o=0;o<n.length&&S[r];o++)s=n[o],s.matchCondition&&(S[r]=S[r]&&s.matchCondition(null,e));t.matchCondition&&(S[r]=S[r]&&t.matchCondition(y,e))}return S[0]||S[1]?S[0]!=S[1]?S[1]?k:M:I:C}(r,o)},p.group!==C&&x.push(p),w=!0)}for(i.reset(),v=[0,0,0],u=0;u<x.length;u++)v[x[u].group]++;if(v[I]>0)d=M;else if(d=k,v[k]+v[M]>1)throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `"+this.format(y)+"`",index:this.index,filename:this.currentFileInfo.filename};for(u=0;u<x.length;u++)if((p=x[u].group)===I||p===d)try{r=x[u].mixin,r instanceof n||(m=r.originalRuleset||r,r=new n("",[],r.rules,null,!1,null,m.visibilityInfo()),r.originalRuleset=m);var F=r.evalCall(e,y,this.important).rules;this._setVisibilityToReplacement(F),Array.prototype.push.apply(b,F)}catch(e){throw{message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack}}if(w)return b}throw f?{type:"Runtime",message:"No matching definition was found for `"+this.format(y)+"`",index:this.index,filename:this.currentFileInfo.filename}:{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename}},r.prototype._setVisibilityToReplacement=function(e){var t,n;if(this.blocksVisibility())for(t=0;t<e.length;t++)n=e[t],n.addVisibilityBlock()},r.prototype.format=function(e){return this.selector.toCSS().trim()+"("+(e?e.map(function(e){var t="";return e.name&&(t+=e.name+":"),t+=e.value.toCSS?e.value.toCSS():"???"}).join(", "):"")+")"},module.exports=r},{"../functions/default":20,"./mixin-definition":68,"./node":70,"./selector":77}],68:[function(require,module,exports){var e=require("./selector"),t=require("./element"),n=require("./ruleset"),i=require("./rule"),r=require("./expression"),o=require("../contexts"),s=function(n,i,r,o,s,a,l){this.name=n,this.selectors=[new e([new t(null,n,this.index,this.currentFileInfo)])],this.params=i,this.condition=o,this.variadic=s,this.arity=i.length,this.rules=r,this._lookups={};var u=[];this.required=i.reduce(function(e,t){return!t.name||t.name&&!t.value?e+1:(u.push(t.name),e)},0),this.optionalParameters=u,this.frames=a,this.copyVisibilityInfo(l),this.allowRoot=!0};s.prototype=new n,s.prototype.type="MixinDefinition",s.prototype.evalFirst=!0,s.prototype.accept=function(e){this.params&&this.params.length&&(this.params=e.visitArray(this.params)),this.rules=e.visitArray(this.rules),this.condition&&(this.condition=e.visit(this.condition))},s.prototype.evalParams=function(e,t,s,a){var l,u,c,h,f,p,d,v,m=new n(null,null),g=this.params.slice(0),y=0;if(t.frames&&t.frames[0]&&t.frames[0].functionRegistry&&(m.functionRegistry=t.frames[0].functionRegistry.inherit()),t=new o.Eval(t,[m].concat(t.frames)),s)for(s=s.slice(0),y=s.length,c=0;c<y;c++)if(u=s[c],p=u&&u.name){for(d=!1,h=0;h<g.length;h++)if(!a[h]&&p===g[h].name){a[h]=u.value.eval(e),m.prependRule(new i(p,u.value.eval(e))),d=!0;break}if(d){s.splice(c,1),c--;continue}throw{type:"Runtime",message:"Named argument for "+this.name+" "+s[c].name+" not found"}}for(v=0,c=0;c<g.length;c++)if(!a[c]){if(u=s&&s[v],p=g[c].name)if(g[c].variadic){for(l=[],h=v;h<y;h++)l.push(s[h].value.eval(e));m.prependRule(new i(p,new r(l).eval(e)))}else{if(f=u&&u.value)f=f.eval(e);else{if(!g[c].value)throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+y+" for "+this.arity+")"};f=g[c].value.eval(t),m.resetCache()}m.prependRule(new i(p,f)),a[c]=f}if(g[c].variadic&&s)for(h=v;h<y;h++)a[h]=s[h].value.eval(e);v++}return m},s.prototype.makeImportant=function(){var e=this.rules?this.rules.map(function(e){return e.makeImportant?e.makeImportant(!0):e}):this.rules;return new s(this.name,this.params,e,this.condition,this.variadic,this.frames)},s.prototype.eval=function(e){return new s(this.name,this.params,this.rules,this.condition,this.variadic,this.frames||e.frames.slice(0))},s.prototype.evalCall=function(e,t,s){var a,l,u=[],c=this.frames?this.frames.concat(e.frames):e.frames,h=this.evalParams(e,new o.Eval(e,c),t,u);return h.prependRule(new i("@arguments",new r(u).eval(e))),a=this.rules.slice(0),l=new n(null,a),l.originalRuleset=this,l=l.eval(new o.Eval(e,[this,h].concat(c))),s&&(l=l.makeImportant()),l},s.prototype.matchCondition=function(e,t){return!(this.condition&&!this.condition.eval(new o.Eval(t,[this.evalParams(t,new o.Eval(t,this.frames?this.frames.concat(t.frames):t.frames),e,[])].concat(this.frames||[]).concat(t.frames))))},s.prototype.matchArgs=function(e,t){var n,i=e&&e.length||0,r=this.optionalParameters,o=e?e.reduce(function(e,t){return r.indexOf(t.name)<0?e+1:e},0):0;if(this.variadic){if(o<this.required-1)return!1}else{if(o<this.required)return!1;if(i>this.params.length)return!1}n=Math.min(o,this.arity);for(var s=0;s<n;s++)if(!this.params[s].name&&!this.params[s].variadic&&e[s].value.eval(t).toCSS()!=this.params[s].value.eval(t).toCSS())return!1;return!0},module.exports=s},{"../contexts":11,"./element":58,"./expression":59,"./rule":74,"./ruleset":76,"./selector":77}],69:[function(require,module,exports){var e=require("./node"),t=require("./operation"),n=require("./dimension"),i=function(e){this.value=e};i.prototype=new e,i.prototype.type="Negative",i.prototype.genCSS=function(e,t){t.add("-"),this.value.genCSS(e,t)},i.prototype.eval=function(e){return e.isMathOn()?new t("*",[new n(-1),this.value]).eval(e):new i(this.value.eval(e))},module.exports=i},{"./dimension":56,"./node":70,"./operation":71}],70:[function(require,module,exports){var e=function(){};e.prototype.toCSS=function(e){var t=[];return this.genCSS(e,{add:function(e,n,i){t.push(e)},isEmpty:function(){return 0===t.length}}),t.join("")},e.prototype.genCSS=function(e,t){t.add(this.value)},e.prototype.accept=function(e){this.value=e.visit(this.value)},e.prototype.eval=function(){return this},e.prototype._operate=function(e,t,n,i){switch(t){case"+":return n+i;case"-":return n-i;case"*":return n*i;case"/":return n/i}},e.prototype.fround=function(e,t){var n=e&&e.numPrecision;return null==n?t:Number((t+2e-16).toFixed(n))},e.compare=function(t,n){if(t.compare&&"Quoted"!==n.type&&"Anonymous"!==n.type)return t.compare(n);if(n.compare)return-n.compare(t);if(t.type===n.type){if(t=t.value,n=n.value,!Array.isArray(t))return t===n?0:void 0;if(t.length===n.length){for(var i=0;i<t.length;i++)if(0!==e.compare(t[i],n[i]))return;return 0}}},e.numericCompare=function(e,t){return e<t?-1:e===t?0:e>t?1:void 0},e.prototype.blocksVisibility=function(){return null==this.visibilityBlocks&&(this.visibilityBlocks=0),0!==this.visibilityBlocks},e.prototype.addVisibilityBlock=function(){null==this.visibilityBlocks&&(this.visibilityBlocks=0),this.visibilityBlocks=this.visibilityBlocks+1},e.prototype.removeVisibilityBlock=function(){null==this.visibilityBlocks&&(this.visibilityBlocks=0),this.visibilityBlocks=this.visibilityBlocks-1},e.prototype.ensureVisibility=function(){this.nodeVisible=!0},e.prototype.ensureInvisibility=function(){this.nodeVisible=!1},e.prototype.isVisible=function(){return this.nodeVisible},e.prototype.visibilityInfo=function(){return{visibilityBlocks:this.visibilityBlocks,nodeVisible:this.nodeVisible}},e.prototype.copyVisibilityInfo=function(e){e&&(this.visibilityBlocks=e.visibilityBlocks,this.nodeVisible=e.nodeVisible)},module.exports=e},{}],71:[function(require,module,exports){var e=require("./node"),t=require("./color"),n=require("./dimension"),i=function(e,t,n){this.op=e.trim(),this.operands=t,this.isSpaced=n};i.prototype=new e,i.prototype.type="Operation",i.prototype.accept=function(e){this.operands=e.visit(this.operands)},i.prototype.eval=function(e){var r=this.operands[0].eval(e),o=this.operands[1].eval(e);if(e.isMathOn()){if(r instanceof n&&o instanceof t&&(r=r.toColor()),o instanceof n&&r instanceof t&&(o=o.toColor()),!r.operate)throw{type:"Operation",message:"Operation on an invalid type"};return r.operate(e,this.op,o)}return new i(this.op,[r,o],this.isSpaced)},i.prototype.genCSS=function(e,t){this.operands[0].genCSS(e,t),this.isSpaced&&t.add(" "),t.add(this.op),this.isSpaced&&t.add(" "),this.operands[1].genCSS(e,t)},module.exports=i},{"./color":50,"./dimension":56,"./node":70}],72:[function(require,module,exports){var e=require("./node"),t=function(e){this.value=e};t.prototype=new e,t.prototype.type="Paren",t.prototype.genCSS=function(e,t){t.add("("),this.value.genCSS(e,t),t.add(")")},t.prototype.eval=function(e){return new t(this.value.eval(e))},module.exports=t},{"./node":70}],73:[function(require,module,exports){var e=require("./node"),t=require("./js-eval-node"),n=require("./variable"),i=function(e,t,n,i,r){this.escaped=null==n||n,this.value=t||"",this.quote=e.charAt(0),this.index=i,this.currentFileInfo=r};i.prototype=new t,i.prototype.type="Quoted",i.prototype.genCSS=function(e,t){this.escaped||t.add(this.quote,this.currentFileInfo,this.index),t.add(this.value),this.escaped||t.add(this.quote)},i.prototype.containsVariables=function(){return this.value.match(/(`([^`]+)`)|@\{([\w-]+)\}/)},i.prototype.eval=function(e){function t(e,t,n){var i=e;do{e=i,i=e.replace(t,n)}while(e!==i);return i}var r=this,o=this.value,s=function(t,n){return String(r.evaluateJavaScript(n,e))},a=function(t,o){var s=new n("@"+o,r.index,r.currentFileInfo).eval(e,!0);return s instanceof i?s.value:s.toCSS()};return o=t(o,/`([^`]+)`/g,s),o=t(o,/@\{([\w-]+)\}/g,a),new i(this.quote+o+this.quote,o,this.escaped,this.index,this.currentFileInfo)},i.prototype.compare=function(t){return"Quoted"!==t.type||this.escaped||t.escaped?t.toCSS&&this.toCSS()===t.toCSS()?0:void 0:e.numericCompare(this.value,t.value)},module.exports=i},{"./js-eval-node":64,"./node":70,"./variable":82}],74:[function(require,module,exports){function e(e,t){var n,i="",r=t.length,o={add:function(e){i+=e}};for(n=0;n<r;n++)t[n].eval(e).genCSS(e,o);return i}var t=require("./node"),n=require("./value"),i=require("./keyword"),r=function(e,i,r,o,s,a,l,u){this.name=e,this.value=i instanceof t?i:new n([i]),this.important=r?" "+r.trim():"",this.merge=o,this.index=s,this.currentFileInfo=a,this.inline=l||!1,this.variable=void 0!==u?u:e.charAt&&"@"===e.charAt(0),this.allowRoot=!0};r.prototype=new t,r.prototype.type="Rule",r.prototype.genCSS=function(e,t){t.add(this.name+(e.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(e,t)}catch(e){throw e.index=this.index,e.filename=this.currentFileInfo.filename,e}t.add(this.important+(this.inline||e.lastRule&&e.compress?"":";"),this.currentFileInfo,this.index)},r.prototype.eval=function(t){var n,o=!1,s=this.name,a=this.variable;"string"!=typeof s&&(s=1===s.length&&s[0]instanceof i?s[0].value:e(t,s),a=!1),"font"!==s||t.strictMath||(o=!0,t.strictMath=!0);try{if(t.importantScope.push({}),n=this.value.eval(t),!this.variable&&"DetachedRuleset"===n.type)throw{message:"Rulesets cannot be evaluated on a property.",index:this.index,filename:this.currentFileInfo.filename};var l=this.important,u=t.importantScope.pop();return!l&&u.important&&(l=u.important),new r(s,n,l,this.merge,this.index,this.currentFileInfo,this.inline,a)}catch(e){throw"number"!=typeof e.index&&(e.index=this.index,e.filename=this.currentFileInfo.filename),e}finally{o&&(t.strictMath=!1)}},r.prototype.makeImportant=function(){return new r(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline)},module.exports=r},{"./keyword":65,"./node":70,"./value":81}],75:[function(require,module,exports){var e=require("./node"),t=require("./variable"),n=function(e){this.variable=e,this.allowRoot=!0};n.prototype=new e,n.prototype.type="RulesetCall",n.prototype.eval=function(e){return new t(this.variable).eval(e).callEval(e)},module.exports=n},{"./node":70,"./variable":82}],76:[function(require,module,exports){var e=require("./node"),t=require("./rule"),n=require("./selector"),i=require("./element"),r=require("./paren"),o=require("../contexts"),s=require("../functions/function-registry"),a=require("../functions/default"),l=require("./debug-info"),u=function(e,t,n,i){this.selectors=e,this.rules=t,this._lookups={},this.strictImports=n,this.copyVisibilityInfo(i),this.allowRoot=!0};u.prototype=new e,u.prototype.type="Ruleset",u.prototype.isRuleset=!0,u.prototype.isRulesetLike=!0,u.prototype.accept=function(e){this.paths?this.paths=e.visitArray(this.paths,!0):this.selectors&&(this.selectors=e.visitArray(this.selectors)),this.rules&&this.rules.length&&(this.rules=e.visitArray(this.rules))},u.prototype.eval=function(e){var n,i,r,o,l=this.selectors,c=!1;if(l&&(i=l.length)){for(n=[],a.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"}),o=0;o<i;o++)r=l[o].eval(e),n.push(r),r.evaldCondition&&(c=!0);a.reset()}else c=!0;var h,f,p=this.rules?this.rules.slice(0):null,d=new u(n,p,this.strictImports,this.visibilityInfo());d.originalRuleset=this,d.root=this.root,d.firstRoot=this.firstRoot,d.allowImports=this.allowImports,this.debugInfo&&(d.debugInfo=this.debugInfo),c||(p.length=0),d.functionRegistry=function(e){for(var t,n=0,i=e.length;n!==i;++n)if(t=e[n].functionRegistry)return t;return s}(e.frames).inherit();var v=e.frames;v.unshift(d);var m=e.selectors;m||(e.selectors=m=[]),m.unshift(this.selectors),(d.root||d.allowImports||!d.strictImports)&&d.evalImports(e);var g=d.rules,y=g?g.length:0;for(o=0;o<y;o++)g[o].evalFirst&&(g[o]=g[o].eval(e));var b=e.mediaBlocks&&e.mediaBlocks.length||0;for(o=0;o<y;o++)"MixinCall"===g[o].type?(p=g[o].eval(e).filter(function(e){return!(e instanceof t&&e.variable)||!d.variable(e.name)}),g.splice.apply(g,[o,1].concat(p)),y+=p.length-1,o+=p.length-1,d.resetCache()):"RulesetCall"===g[o].type&&(p=g[o].eval(e).rules.filter(function(e){return!(e instanceof t&&e.variable)}),g.splice.apply(g,[o,1].concat(p)),y+=p.length-1,o+=p.length-1,d.resetCache());for(o=0;o<g.length;o++)h=g[o],h.evalFirst||(g[o]=h=h.eval?h.eval(e):h);for(o=0;o<g.length;o++)if((h=g[o])instanceof u&&h.selectors&&1===h.selectors.length&&h.selectors[0].isJustParentSelector()){g.splice(o--,1);for(var w=0;w<h.rules.length;w++)f=h.rules[w],f.copyVisibilityInfo(h.visibilityInfo()),f instanceof t&&f.variable||g.splice(++o,0,f)}if(v.shift(),m.shift(),e.mediaBlocks)for(o=b;o<e.mediaBlocks.length;o++)e.mediaBlocks[o].bubbleSelectors(n);return d},u.prototype.evalImports=function(e){var t,n,i=this.rules;if(i)for(t=0;t<i.length;t++)"Import"===i[t].type&&(n=i[t].eval(e),n&&(n.length||0===n.length)?(i.splice.apply(i,[t,1].concat(n)),t+=n.length-1):i.splice(t,1,n),this.resetCache())},u.prototype.makeImportant=function(){return new u(this.selectors,this.rules.map(function(e){return e.makeImportant?e.makeImportant():e}),this.strictImports,this.visibilityInfo())},u.prototype.matchArgs=function(e){return!e||0===e.length},u.prototype.matchCondition=function(e,t){var n=this.selectors[this.selectors.length-1];return!!n.evaldCondition&&!(n.condition&&!n.condition.eval(new o.Eval(t,t.frames)))},u.prototype.resetCache=function(){this._rulesets=null,this._variables=null,this._lookups={}},u.prototype.variables=function(){return this._variables||(this._variables=this.rules?this.rules.reduce(function(e,n){if(n instanceof t&&n.variable===!0&&(e[n.name]=n),"Import"===n.type&&n.root&&n.root.variables){var i=n.root.variables();for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e},{}):{}),this._variables},u.prototype.variable=function(e){return this.variables()[e]},u.prototype.rulesets=function(){if(!this.rules)return[];var e,t,n=[],i=this.rules,r=i.length;for(e=0;e<r;e++)t=i[e],t.isRuleset&&n.push(t);return n},u.prototype.prependRule=function(e){var t=this.rules;t?t.unshift(e):this.rules=[e]},u.prototype.find=function(e,t,i){t=t||this;var r,o,s=[],a=e.toCSS();return a in this._lookups?this._lookups[a]:(this.rulesets().forEach(function(a){if(a!==t)for(var l=0;l<a.selectors.length;l++)if(r=e.match(a.selectors[l])){if(e.elements.length>r){if(!i||i(a)){o=a.find(new n(e.elements.slice(r)),t,i);for(var u=0;u<o.length;++u)o[u].path.push(a);Array.prototype.push.apply(s,o)}}else s.push({rule:a,path:[]});break}}),this._lookups[a]=s,s)},u.prototype.genCSS=function(e,t){var n,i,r,o,s,a=[],u=[];e.tabLevel=e.tabLevel||0,this.root||e.tabLevel++;var c,h=e.compress?"":Array(e.tabLevel+1).join("  "),f=e.compress?"":Array(e.tabLevel).join("  "),p=0,d=0;for(n=0;n<this.rules.length;n++)o=this.rules[n],"Comment"===o.type?(d===n&&d++,u.push(o)):o.isCharset&&o.isCharset()?(u.splice(p,0,o),p++,d++):"Import"===o.type?(u.splice(d,0,o),d++):u.push(o);if(u=a.concat(u),!this.root){r=l(e,this,f),r&&(t.add(r),t.add(f));var v,m=this.paths,g=m.length;for(c=e.compress?",":",\n"+f,n=0;n<g;n++)if(s=m[n],v=s.length)for(n>0&&t.add(c),e.firstSelector=!0,s[0].genCSS(e,t),e.firstSelector=!1,i=1;i<v;i++)s[i].genCSS(e,t);t.add((e.compress?"{":" {\n")+h)}for(n=0;n<u.length;n++){o=u[n],n+1===u.length&&(e.lastRule=!0);var y=e.lastRule;(function(e){return"boolean"==typeof e.isRulesetLike?e.isRulesetLike:"function"==typeof e.isRulesetLike&&e.isRulesetLike()})(o)&&(e.lastRule=!1),o.genCSS?o.genCSS(e,t):o.value&&t.add(o.value.toString()),e.lastRule=y,e.lastRule?e.lastRule=!1:t.add(e.compress?"":"\n"+h)}this.root||(t.add(e.compress?"}":"\n"+f+"}"),e.tabLevel--),t.isEmpty()||e.compress||!this.firstRoot||t.add("\n")},u.prototype.joinSelectors=function(e,t,n){for(var i=0;i<n.length;i++)this.joinSelector(e,t,n[i])},u.prototype.joinSelector=function(e,t,o){function s(e,t){var o,s;if(0===e.length)o=new r(e[0]);else{var a=[];for(s=0;s<e.length;s++)a.push(new i(null,e[s],t.index,t.currentFileInfo));o=new r(new n(a))}return o}function a(e,t){var r;return r=new i(null,e,t.index,t.currentFileInfo),new n([r])}function l(e,t,n,r){var o,s,a;if(o=[],e.length>0?(o=e.slice(0),s=o.pop(),a=r.createDerived(s.elements.slice(0))):a=r.createDerived([]),t.length>0){var l=n.combinator,u=t[0].elements[0];l.emptyOrWhitespace&&!u.combinator.emptyOrWhitespace&&(l=u.combinator),a.elements.push(new i(l,u.value,n.index,n.currentFileInfo)),a.elements=a.elements.concat(t[0].elements.slice(1))}if(0!==a.elements.length&&o.push(a),t.length>1){var c=t.slice(1);c=c.map(function(e){return e.createDerived(e.elements,[])}),o=o.concat(c)}return o}function u(e,t,n,i,r){var o;for(o=0;o<e.length;o++){var s=l(e[o],t,n,i);r.push(s)}return r}function c(e,t){var i,r;if(0!==e.length){if(0===t.length)return void t.push([new n(e)]);for(i=0;i<t.length;i++)r=t[i],r.length>0?r[r.length-1]=r[r.length-1].createDerived(r[r.length-1].elements.concat(e)):r.push(new n(e))}}function h(e,t,n){var r,o,f,p,d,v,m,g,y,b,w=!1;for(p=[],d=[[]],r=0;r<n.elements.length;r++)if(g=n.elements[r],"&"!==g.value){var x=function(e){var t;return"Paren"!==e.value.type?null:(t=e.value.value,"Selector"!==t.type?null:t)}(g);if(null!=x){c(p,d);var S,C=[],I=[];for(S=h(C,t,x),w=w||S,f=0;f<C.length;f++){var k=a(s(C[f],g),g);u(d,[k],g,n,I)}d=I,p=[]}else p.push(g)}else{for(w=!0,v=[],c(p,d),o=0;o<d.length;o++)if(m=d[o],0===t.length)m.length>0&&m[0].elements.push(new i(g.combinator,"",g.index,g.currentFileInfo)),v.push(m);else for(f=0;f<t.length;f++){var M=l(m,t[f],g,n);v.push(M)}d=v,p=[]}for(c(p,d),r=0;r<d.length;r++)(y=d[r].length)>0&&(e.push(d[r]),b=d[r][y-1],d[r][y-1]=b.createDerived(b.elements,n.extendList));return w}function f(e,t){var n=t.createDerived(t.elements,t.extendList,t.evaldCondition);return n.copyVisibilityInfo(e),n}var p,d;if(d=[],!h(d,t,o))if(t.length>0)for(d=[],p=0;p<t.length;p++){var v=t[p].map(f.bind(this,o.visibilityInfo()));v.push(o),d.push(v)}else d=[[o]];for(p=0;p<d.length;p++)e.push(d[p])},module.exports=u},{"../contexts":11,"../functions/default":20,"../functions/function-registry":22,"./debug-info":54,"./element":58,"./node":70,"./paren":72,"./rule":74,"./selector":77}],77:[function(require,module,exports){var e=require("./node"),t=require("./element"),n=function(e,t,n,i,r,o){this.elements=e,this.extendList=t,this.condition=n,this.currentFileInfo=r||{},n||(this.evaldCondition=!0),this.copyVisibilityInfo(o)};n.prototype=new e,n.prototype.type="Selector",n.prototype.accept=function(e){this.elements&&(this.elements=e.visitArray(this.elements)),this.extendList&&(this.extendList=e.visitArray(this.extendList)),this.condition&&(this.condition=e.visit(this.condition))},n.prototype.createDerived=function(e,t,i){var r=this.visibilityInfo();i=null!=i?i:this.evaldCondition;var o=new n(e,t||this.extendList,null,this.index,this.currentFileInfo,r);return o.evaldCondition=i,o.mediaEmpty=this.mediaEmpty,o},n.prototype.createEmptySelectors=function(){var e=new t("","&",this.index,this.currentFileInfo),i=[new n([e],null,null,this.index,this.currentFileInfo)];return i[0].mediaEmpty=!0,i},n.prototype.match=function(e){var t,n,i=this.elements,r=i.length;if(e.CacheElements(),0===(t=e._elements.length)||r<t)return 0;for(n=0;n<t;n++)if(i[n].value!==e._elements[n])return 0;return t},n.prototype.CacheElements=function(){if(!this._elements){var e=this.elements.map(function(e){return e.combinator.value+(e.value.value||e.value)}).join("").match(/[,&#\*\.\w-]([\w-]|(\\.))*/g);e?"&"===e[0]&&e.shift():e=[],this._elements=e}},n.prototype.isJustParentSelector=function(){return!this.mediaEmpty&&1===this.elements.length&&"&"===this.elements[0].value&&(" "===this.elements[0].combinator.value||""===this.elements[0].combinator.value)},n.prototype.eval=function(e){var t=this.condition&&this.condition.eval(e),n=this.elements,i=this.extendList;return n=n&&n.map(function(t){return t.eval(e)}),i=i&&i.map(function(t){return t.eval(e)}),this.createDerived(n,i,t)},n.prototype.genCSS=function(e,t){var n,i;if(e&&e.firstSelector||""!==this.elements[0].combinator.value||t.add(" ",this.currentFileInfo,this.index),!this._css)for(n=0;n<this.elements.length;n++)i=this.elements[n],i.genCSS(e,t)},n.prototype.getIsOutput=function(){return this.evaldCondition},module.exports=n},{"./element":58,"./node":70}],78:[function(require,module,exports){var e=require("./node"),t=function(e){this.value=e};t.prototype=new e,t.prototype.type="UnicodeDescriptor",module.exports=t},{"./node":70}],79:[function(require,module,exports){var e=require("./node"),t=require("../data/unit-conversions"),n=function(e,t,n){this.numerator=e?e.slice(0).sort():[],this.denominator=t?t.slice(0).sort():[],n?this.backupUnit=n:e&&e.length&&(this.backupUnit=e[0])};n.prototype=new e,n.prototype.type="Unit",n.prototype.clone=function(){return new n(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit)},n.prototype.genCSS=function(e,t){var n=e&&e.strictUnits;1===this.numerator.length?t.add(this.numerator[0]):!n&&this.backupUnit?t.add(this.backupUnit):!n&&this.denominator.length&&t.add(this.denominator[0])},n.prototype.toString=function(){var e,t=this.numerator.join("*");for(e=0;e<this.denominator.length;e++)t+="/"+this.denominator[e];return t},n.prototype.compare=function(e){return this.is(e.toString())?0:void 0},n.prototype.is=function(e){return this.toString().toUpperCase()===e.toUpperCase()},n.prototype.isLength=function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/))},n.prototype.isEmpty=function(){return 0===this.numerator.length&&0===this.denominator.length},n.prototype.isSingular=function(){return this.numerator.length<=1&&0===this.denominator.length},n.prototype.map=function(e){var t;for(t=0;t<this.numerator.length;t++)this.numerator[t]=e(this.numerator[t],!1);for(t=0;t<this.denominator.length;t++)this.denominator[t]=e(this.denominator[t],!0)},n.prototype.usedUnits=function(){var e,n,i,r={};n=function(t){return e.hasOwnProperty(t)&&!r[i]&&(r[i]=t),t};for(i in t)t.hasOwnProperty(i)&&(e=t[i],this.map(n));return r},n.prototype.cancel=function(){var e,t,n={};for(t=0;t<this.numerator.length;t++)e=this.numerator[t],n[e]=(n[e]||0)+1;for(t=0;t<this.denominator.length;t++)e=this.denominator[t],n[e]=(n[e]||0)-1;this.numerator=[],this.denominator=[];for(e in n)if(n.hasOwnProperty(e)){var i=n[e];if(i>0)for(t=0;t<i;t++)this.numerator.push(e);else if(i<0)for(t=0;t<-i;t++)this.denominator.push(e)}this.numerator.sort(),this.denominator.sort()},module.exports=n},{"../data/unit-conversions":14,"./node":70}],80:[function(require,module,exports){var e=require("./node"),t=function(e,t,n,i){this.value=e,this.currentFileInfo=n,this.index=t,this.isEvald=i};t.prototype=new e,t.prototype.type="Url",t.prototype.accept=function(e){this.value=e.visit(this.value)},t.prototype.genCSS=function(e,t){t.add("url("),this.value.genCSS(e,t),t.add(")")},t.prototype.eval=function(e){var n,i=this.value.eval(e);if(!this.isEvald&&(n=this.currentFileInfo&&this.currentFileInfo.rootpath,n&&"string"==typeof i.value&&e.isPathRelative(i.value)&&(i.quote||(n=n.replace(/[\(\)'"\s]/g,function(e){return"\\"+e})),i.value=n+i.value),i.value=e.normalizePath(i.value),e.urlArgs&&!i.value.match(/^\s*data:/))){var r=i.value.indexOf("?")===-1?"?":"&",o=r+e.urlArgs;i.value.indexOf("#")!==-1?i.value=i.value.replace("#",o+"#"):i.value+=o}return new t(i,this.index,this.currentFileInfo,!0)},module.exports=t},{"./node":70}],81:[function(require,module,exports){var e=require("./node"),t=function(e){if(this.value=e,!e)throw new Error("Value requires an array argument")};t.prototype=new e,t.prototype.type="Value",t.prototype.accept=function(e){this.value&&(this.value=e.visitArray(this.value))},t.prototype.eval=function(e){return 1===this.value.length?this.value[0].eval(e):new t(this.value.map(function(t){return t.eval(e)}))},t.prototype.genCSS=function(e,t){var n;for(n=0;n<this.value.length;n++)this.value[n].genCSS(e,t),n+1<this.value.length&&t.add(e&&e.compress?",":", ")},module.exports=t},{"./node":70}],82:[function(require,module,exports){var e=require("./node"),t=function(e,t,n){this.name=e,this.index=t,this.currentFileInfo=n||{}};t.prototype=new e,t.prototype.type="Variable",t.prototype.eval=function(e){var n,i=this.name;if(0===i.indexOf("@@")&&(i="@"+new t(i.slice(1),this.index,this.currentFileInfo).eval(e).value),this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+i,filename:this.currentFileInfo.filename,index:this.index};if(this.evaluating=!0,n=this.find(e.frames,function(t){var n=t.variable(i);if(n){if(n.important){e.importantScope[e.importantScope.length-1].important=n.important}return n.value.eval(e)}}))return this.evaluating=!1,n;throw{type:"Name",message:"variable "+i+" is undefined",filename:this.currentFileInfo.filename,index:this.index}},t.prototype.find=function(e,t){for(var n,i=0;i<e.length;i++)if(n=t.call(e,e[i]))return n;return null},module.exports=t},{"./node":70}],83:[function(require,module,exports){module.exports={getLocation:function(e,t){for(var n=e+1,i=null,r=-1;--n>=0&&"\n"!==t.charAt(n);)r++;return"number"==typeof e&&(i=(t.slice(0,e).match(/\n/g)||"").length),{line:i,column:r}}}},{}],84:[function(require,module,exports){var e=require("../tree"),t=require("./visitor"),n=require("../logger"),i=function(){this._visitor=new t(this),this.contexts=[],this.allExtendsStack=[[]]};i.prototype={run:function(e){return e=this._visitor.visit(e),e.allExtends=this.allExtendsStack[0],e},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(t,n){if(!t.root){var i,r,o,s,a=[],l=t.rules,u=l?l.length:0;for(i=0;i<u;i++)t.rules[i]instanceof e.Extend&&(a.push(l[i]),t.extendOnEveryPath=!0);var c=t.paths;for(i=0;i<c.length;i++){var h=c[i],f=h[h.length-1],p=f.extendList;for(s=p?p.slice(0).concat(a):a,s&&(s=s.map(function(e){return e.clone()})),r=0;r<s.length;r++)this.foundExtends=!0,o=s[r],o.findSelfSelectors(h),o.ruleset=t,0===r&&(o.firstExtendOnThisSelectorPath=!0),this.allExtendsStack[this.allExtendsStack.length-1].push(o)}this.contexts.push(t.selectors)}},visitRulesetOut:function(e){e.root||(this.contexts.length=this.contexts.length-1)},visitMedia:function(e,t){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitMediaOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(e,t){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitDirectiveOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1}};var r=function(){this._visitor=new t(this)};r.prototype={run:function(e){var t=new i;if(this.extendIndices={},t.run(e),!t.foundExtends)return e;e.allExtends=e.allExtends.concat(this.doExtendChaining(e.allExtends,e.allExtends)),this.allExtendsStack=[e.allExtends];var n=this._visitor.visit(e);return this.checkExtendsForNonMatched(e.allExtends),n},checkExtendsForNonMatched:function(e){var t=this.extendIndices;e.filter(function(e){return!e.hasFoundMatches&&1==e.parent_ids.length}).forEach(function(e){var i="_unknown_";try{i=e.selector.toCSS({})}catch(e){}t[e.index+" "+i]||(t[e.index+" "+i]=!0,n.warn("extend '"+i+"' has no matches"))})},doExtendChaining:function(t,n,i){var r,o,s,a,l,u,c,h,f=[],p=this;for(i=i||0,r=0;r<t.length;r++)for(o=0;o<n.length;o++)u=t[r],c=n[o],u.parent_ids.indexOf(c.object_id)>=0||(l=[c.selfSelectors[0]],s=p.findMatch(u,l),s.length&&(u.hasFoundMatches=!0,u.selfSelectors.forEach(function(t){var n=c.visibilityInfo();a=p.extendSelector(s,l,t,u.isVisible()),h=new e.Extend(c.selector,c.option,0,c.currentFileInfo,n),h.selfSelectors=a,a[a.length-1].extendList=[h],f.push(h),h.ruleset=c.ruleset,h.parent_ids=h.parent_ids.concat(c.parent_ids,u.parent_ids),c.firstExtendOnThisSelectorPath&&(h.firstExtendOnThisSelectorPath=!0,c.ruleset.paths.push(a))})));if(f.length){if(this.extendChainCount++,i>100){var d="{unable to calculate}",v="{unable to calculate}";try{d=f[0].selfSelectors[0].toCSS(),v=f[0].selector.toCSS()}catch(e){}throw{message:"extend circular reference detected. One of the circular extends is currently:"+d+":extend("+v+")"}}return f.concat(p.doExtendChaining(f,n,i+1))}return f},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitSelector:function(e,t){t.visitDeeper=!1},visitRuleset:function(e,t){if(!e.root){var n,i,r,o,s=this.allExtendsStack[this.allExtendsStack.length-1],a=[],l=this;for(r=0;r<s.length;r++)for(i=0;i<e.paths.length;i++)if(o=e.paths[i],!e.extendOnEveryPath){var u=o[o.length-1].extendList;u&&u.length||(n=this.findMatch(s[r],o),n.length&&(s[r].hasFoundMatches=!0,s[r].selfSelectors.forEach(function(e){var t;t=l.extendSelector(n,o,e,s[r].isVisible()),a.push(t)})))}e.paths=e.paths.concat(a)}},findMatch:function(e,t){var n,i,r,o,s,a,l,u=this,c=e.selector.elements,h=[],f=[];for(n=0;n<t.length;n++)for(i=t[n],r=0;r<i.elements.length;r++)for(o=i.elements[r],(e.allowBefore||0===n&&0===r)&&h.push({pathIndex:n,index:r,matched:0,initialCombinator:o.combinator}),a=0;a<h.length;a++)l=h[a],
s=o.combinator.value,""===s&&0===r&&(s=" "),!u.isElementValuesEqual(c[l.matched].value,o.value)||l.matched>0&&c[l.matched].combinator.value!==s?l=null:l.matched++,l&&(l.finished=l.matched===c.length,l.finished&&!e.allowAfter&&(r+1<i.elements.length||n+1<t.length)&&(l=null)),l?l.finished&&(l.length=c.length,l.endPathIndex=n,l.endPathElementIndex=r+1,h.length=0,f.push(l)):(h.splice(a,1),a--);return f},isElementValuesEqual:function(t,n){if("string"==typeof t||"string"==typeof n)return t===n;if(t instanceof e.Attribute)return t.op===n.op&&t.key===n.key&&(t.value&&n.value?(t=t.value.value||t.value,n=n.value.value||n.value,t===n):!t.value&&!n.value);if(t=t.value,n=n.value,t instanceof e.Selector){if(!(n instanceof e.Selector)||t.elements.length!==n.elements.length)return!1;for(var i=0;i<t.elements.length;i++){if(t.elements[i].combinator.value!==n.elements[i].combinator.value&&(0!==i||(t.elements[i].combinator.value||" ")!==(n.elements[i].combinator.value||" ")))return!1;if(!this.isElementValuesEqual(t.elements[i].value,n.elements[i].value))return!1}return!0}return!1},extendSelector:function(t,n,i,r){var o,s,a,l,u,c=0,h=0,f=[];for(o=0;o<t.length;o++)l=t[o],s=n[l.pathIndex],a=new e.Element(l.initialCombinator,i.elements[0].value,i.elements[0].index,i.elements[0].currentFileInfo),l.pathIndex>c&&h>0&&(f[f.length-1].elements=f[f.length-1].elements.concat(n[c].elements.slice(h)),h=0,c++),u=s.elements.slice(h,l.index).concat([a]).concat(i.elements.slice(1)),c===l.pathIndex&&o>0?f[f.length-1].elements=f[f.length-1].elements.concat(u):(f=f.concat(n.slice(c,l.pathIndex)),f.push(new e.Selector(u))),c=l.endPathIndex,(h=l.endPathElementIndex)>=n[c].elements.length&&(h=0,c++);return c<n.length&&h>0&&(f[f.length-1].elements=f[f.length-1].elements.concat(n[c].elements.slice(h)),c++),f=f.concat(n.slice(c,n.length)),f=f.map(function(e){var t=e.createDerived(e.elements);return r?t.ensureVisibility():t.ensureInvisibility(),t})},visitMedia:function(e,t){var n=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);n=n.concat(this.doExtendChaining(n,e.allExtends)),this.allExtendsStack.push(n)},visitMediaOut:function(e){var t=this.allExtendsStack.length-1;this.allExtendsStack.length=t},visitDirective:function(e,t){var n=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);n=n.concat(this.doExtendChaining(n,e.allExtends)),this.allExtendsStack.push(n)},visitDirectiveOut:function(e){var t=this.allExtendsStack.length-1;this.allExtendsStack.length=t}},module.exports=r},{"../logger":33,"../tree":62,"./visitor":91}],85:[function(require,module,exports){function e(e){this.imports=[],this.variableImports=[],this._onSequencerEmpty=e,this._currentDepth=0}e.prototype.addImport=function(e){var t=this,n={callback:e,args:null,isReady:!1};return this.imports.push(n),function(){n.args=Array.prototype.slice.call(arguments,0),n.isReady=!0,t.tryRun()}},e.prototype.addVariableImport=function(e){this.variableImports.push(e)},e.prototype.tryRun=function(){this._currentDepth++;try{for(;;){for(;this.imports.length>0;){var e=this.imports[0];if(!e.isReady)return;this.imports=this.imports.slice(1),e.callback.apply(null,e.args)}if(0===this.variableImports.length)break;var t=this.variableImports[0];this.variableImports=this.variableImports.slice(1),t()}}finally{this._currentDepth--}0===this._currentDepth&&this._onSequencerEmpty&&this._onSequencerEmpty()},module.exports=e},{}],86:[function(require,module,exports){var e=require("../contexts"),t=require("./visitor"),n=require("./import-sequencer"),i=function(i,r){this._visitor=new t(this),this._importer=i,this._finish=r,this.context=new e.Eval,this.importCount=0,this.onceFileDetectionMap={},this.recursionDetector={},this._sequencer=new n(this._onSequencerEmpty.bind(this))};i.prototype={isReplacing:!1,run:function(e){try{this._visitor.visit(e)}catch(e){this.error=e}this.isFinished=!0,this._sequencer.tryRun()},_onSequencerEmpty:function(){this.isFinished&&this._finish(this.error)},visitImport:function(t,n){var i=t.options.inline;if(!t.css||i){var r=new e.Eval(this.context,this.context.frames.slice(0)),o=r.frames[0];this.importCount++,t.isVariableImport()?this._sequencer.addVariableImport(this.processImportNode.bind(this,t,r,o)):this.processImportNode(t,r,o)}n.visitDeeper=!1},processImportNode:function(e,t,n){var i,r=e.options.inline;try{i=e.evalForImport(t)}catch(t){t.filename||(t.index=e.index,t.filename=e.currentFileInfo.filename),e.css=!0,e.error=t}if(!i||i.css&&!r)this.importCount--,this.isFinished&&this._sequencer.tryRun();else{i.options.multiple&&(t.importMultiple=!0);for(var o=void 0===i.css,s=0;s<n.rules.length;s++)if(n.rules[s]===e){n.rules[s]=i;break}var a=this.onImported.bind(this,i,t),l=this._sequencer.addImport(a);this._importer.push(i.getPath(),o,i.currentFileInfo,i.options,l)}},onImported:function(e,t,n,i,r,o){n&&(n.filename||(n.index=e.index,n.filename=e.currentFileInfo.filename),this.error=n);var s=this,a=e.options.inline,l=e.options.plugin,u=e.options.optional,c=r||o in s.recursionDetector;if(t.importMultiple||(e.skip=!!c||function(){return o in s.onceFileDetectionMap||(s.onceFileDetectionMap[o]=!0,!1)}),!o&&u&&(e.skip=!0),i&&(e.root=i,e.importedFilename=o,!a&&!l&&(t.importMultiple||!c))){s.recursionDetector[o]=!0;var h=this.context;this.context=t;try{this._visitor.visit(i)}catch(e){this.error=e}this.context=h}s.importCount--,s.isFinished&&s._sequencer.tryRun()},visitRule:function(e,t){"DetachedRuleset"===e.value.type?this.context.frames.unshift(e):t.visitDeeper=!1},visitRuleOut:function(e){"DetachedRuleset"===e.value.type&&this.context.frames.shift()},visitDirective:function(e,t){this.context.frames.unshift(e)},visitDirectiveOut:function(e){this.context.frames.shift()},visitMixinDefinition:function(e,t){this.context.frames.unshift(e)},visitMixinDefinitionOut:function(e){this.context.frames.shift()},visitRuleset:function(e,t){this.context.frames.unshift(e)},visitRulesetOut:function(e){this.context.frames.shift()},visitMedia:function(e,t){this.context.frames.unshift(e.rules[0])},visitMediaOut:function(e){this.context.frames.shift()}},module.exports=i},{"../contexts":11,"./import-sequencer":85,"./visitor":91}],87:[function(require,module,exports){var e={Visitor:require("./visitor"),ImportVisitor:require("./import-visitor"),MarkVisibleSelectorsVisitor:require("./set-tree-visibility-visitor"),ExtendVisitor:require("./extend-visitor"),JoinSelectorVisitor:require("./join-selector-visitor"),ToCSSVisitor:require("./to-css-visitor")};module.exports=e},{"./extend-visitor":84,"./import-visitor":86,"./join-selector-visitor":88,"./set-tree-visibility-visitor":89,"./to-css-visitor":90,"./visitor":91}],88:[function(require,module,exports){var e=require("./visitor"),t=function(){this.contexts=[[]],this._visitor=new e(this)};t.prototype={run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(e,t){var n,i=this.contexts[this.contexts.length-1],r=[];this.contexts.push(r),e.root||(n=e.selectors,n&&(n=n.filter(function(e){return e.getIsOutput()}),e.selectors=n.length?n:n=null,n&&e.joinSelectors(r,i,n)),n||(e.rules=null),e.paths=r)},visitRulesetOut:function(e){this.contexts.length=this.contexts.length-1},visitMedia:function(e,t){var n=this.contexts[this.contexts.length-1];e.rules[0].root=0===n.length||n[0].multiMedia},visitDirective:function(e,t){var n=this.contexts[this.contexts.length-1];e.rules&&e.rules.length&&(e.rules[0].root=e.isRooted||0===n.length||null)}},module.exports=t},{"./visitor":91}],89:[function(require,module,exports){var e=function(e){this.visible=e};e.prototype.run=function(e){this.visit(e)},e.prototype.visitArray=function(e){if(!e)return e;var t,n=e.length;for(t=0;t<n;t++)this.visit(e[t]);return e},e.prototype.visit=function(e){return e?e.constructor===Array?this.visitArray(e):!e.blocksVisibility||e.blocksVisibility()?e:(this.visible?e.ensureVisibility():e.ensureInvisibility(),e.accept(this),e):e},module.exports=e},{}],90:[function(require,module,exports){var e=require("../tree"),t=require("./visitor"),n=function(e){this._visitor=new t(this),this._context=e};n.prototype={containsSilentNonBlockedChild:function(e){var t;if(null==e)return!1;for(var n=0;n<e.length;n++)if(t=e[n],t.isSilent&&t.isSilent(this._context)&&!t.blocksVisibility())return!0;return!1},keepOnlyVisibleChilds:function(e){null!=e&&null!=e.rules&&(e.rules=e.rules.filter(function(e){return e.isVisible()}))},isEmpty:function(e){return null==e||null==e.rules||0===e.rules.length},hasVisibleSelector:function(e){return null!=e&&null!=e.paths&&e.paths.length>0},resolveVisibility:function(e,t){if(!e.blocksVisibility()){if(this.isEmpty(e)&&!this.containsSilentNonBlockedChild(t))return;return e}var n=e.rules[0];if(this.keepOnlyVisibleChilds(n),!this.isEmpty(n))return e.ensureVisibility(),e.removeVisibilityBlock(),e},isVisibleRuleset:function(e){return!!e.firstRoot||!this.isEmpty(e)&&!(!e.root&&!this.hasVisibleSelector(e))}};var i=function(e){this._visitor=new t(this),this._context=e,this.utils=new n(e)};i.prototype={isReplacing:!0,run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){if(!e.blocksVisibility()&&!e.variable)return e},visitMixinDefinition:function(e,t){e.frames=[]},visitExtend:function(e,t){},visitComment:function(e,t){if(!e.blocksVisibility()&&!e.isSilent(this._context))return e},visitMedia:function(e,t){var n=e.rules[0].rules;return e.accept(this._visitor),t.visitDeeper=!1,this.utils.resolveVisibility(e,n)},visitImport:function(e,t){if(!e.blocksVisibility())return e},visitDirective:function(e,t){return e.rules&&e.rules.length?this.visitDirectiveWithBody(e,t):this.visitDirectiveWithoutBody(e,t)},visitDirectiveWithBody:function(e,t){function n(e){var t=e.rules;return 1===t.length&&(!t[0].paths||0===t[0].paths.length)}var i=function(e){var t=e.rules;return n(e)?t[0].rules:t}(e);return e.accept(this._visitor),t.visitDeeper=!1,this.utils.isEmpty(e)||this._mergeRules(e.rules[0].rules),this.utils.resolveVisibility(e,i)},visitDirectiveWithoutBody:function(t,n){if(!t.blocksVisibility()){if("@charset"===t.name){if(this.charset){if(t.debugInfo){var i=new e.Comment("/* "+t.toCSS(this._context).replace(/\n/g,"")+" */\n");return i.debugInfo=t.debugInfo,this._visitor.visit(i)}return}this.charset=!0}return t}},checkValidNodes:function(t,n){if(t)for(var i=0;i<t.length;i++){var r=t[i];if(n&&r instanceof e.Rule&&!r.variable)throw{message:"Properties must be inside selector blocks. They cannot be in the root",index:r.index,filename:r.currentFileInfo&&r.currentFileInfo.filename};if(r instanceof e.Call)throw{message:"Function '"+r.name+"' is undefined",index:r.index,filename:r.currentFileInfo&&r.currentFileInfo.filename};if(r.type&&!r.allowRoot)throw{message:r.type+" node returned by a function is not valid here",index:r.index,filename:r.currentFileInfo&&r.currentFileInfo.filename}}},visitRuleset:function(e,t){var n,i=[];if(this.checkValidNodes(e.rules,e.firstRoot),e.root)e.accept(this._visitor),t.visitDeeper=!1;else{this._compileRulesetPaths(e);for(var r=e.rules,o=r?r.length:0,s=0;s<o;)n=r[s],n&&n.rules?(i.push(this._visitor.visit(n)),r.splice(s,1),o--):s++;o>0?e.accept(this._visitor):e.rules=null,t.visitDeeper=!1}return e.rules&&(this._mergeRules(e.rules),this._removeDuplicateRules(e.rules)),this.utils.isVisibleRuleset(e)&&(e.ensureVisibility(),i.splice(0,0,e)),1===i.length?i[0]:i},_compileRulesetPaths:function(t){t.paths&&(t.paths=t.paths.filter(function(t){var n;for(" "===t[0].elements[0].combinator.value&&(t[0].elements[0].combinator=new e.Combinator("")),n=0;n<t.length;n++)if(t[n].isVisible()&&t[n].getIsOutput())return!0;return!1}))},_removeDuplicateRules:function(t){if(t){var n,i,r,o={};for(r=t.length-1;r>=0;r--)if((i=t[r])instanceof e.Rule)if(o[i.name]){n=o[i.name],n instanceof e.Rule&&(n=o[i.name]=[o[i.name].toCSS(this._context)]);var s=i.toCSS(this._context);n.indexOf(s)!==-1?t.splice(r,1):n.push(s)}else o[i.name]=i}},_mergeRules:function(t){if(t){for(var n,i,r,o={},s=0;s<t.length;s++)(i=t[s])instanceof e.Rule&&i.merge&&(r=[i.name,i.important?"!":""].join(","),o[r]?t.splice(s--,1):o[r]=[],o[r].push(i));Object.keys(o).map(function(t){function r(t){return new e.Expression(t.map(function(e){return e.value}))}if(n=o[t],n.length>1){i=n[0];var s=[],a=[];n.map(function(e){"+"===e.merge&&(a.length>0&&s.push(r(a)),a=[]),a.push(e)}),s.push(r(a)),i.value=function(t){return new e.Value(t.map(function(e){return e}))}(s)}})}},visitAnonymous:function(e,t){if(!e.blocksVisibility())return e.accept(this._visitor),e}},module.exports=i},{"../tree":62,"./visitor":91}],91:[function(require,module,exports){function e(e){return e}function t(e,n){var i,r;for(i in e)if(e.hasOwnProperty(i))switch(typeof(r=e[i])){case"function":r.prototype&&r.prototype.type&&(r.prototype.typeIndex=n++);break;case"object":n=t(r,n)}return n}var n=require("../tree"),i={visitDeeper:!0},r=!1,o=function(e){this._implementation=e,this._visitFnCache=[],r||(t(n,1),r=!0)};o.prototype={visit:function(t){if(!t)return t;var n=t.typeIndex;if(!n)return t;var r,o=this._visitFnCache,s=this._implementation,a=n<<1,l=1|a,u=o[a],c=o[l],h=i;if(h.visitDeeper=!0,u||(r="visit"+t.type,u=s[r]||e,c=s[r+"Out"]||e,o[a]=u,o[l]=c),u!==e){var f=u.call(s,t,h);s.isReplacing&&(t=f)}return h.visitDeeper&&t&&t.accept&&t.accept(this),c!=e&&c.call(s,t),t},visitArray:function(e,t){if(!e)return e;var n,i=e.length;if(t||!this._implementation.isReplacing){for(n=0;n<i;n++)this.visit(e[n]);return e}var r=[];for(n=0;n<i;n++){var o=this.visit(e[n]);void 0!==o&&(o.splice?o.length&&this.flatten(o,r):r.push(o))}return r},flatten:function(e,t){t||(t=[]);var n,i,r,o,s,a;for(i=0,n=e.length;i<n;i++)if(void 0!==(r=e[i]))if(r.splice)for(s=0,o=r.length;s<o;s++)void 0!==(a=r[s])&&(a.splice?a.length&&this.flatten(a,t):t.push(a));else t.push(r);return t}},module.exports=o},{"../tree":62}],92:[function(require,module,exports){"use strict";function e(){if(o.length)throw o.shift()}function t(e){var t;t=r.length?r.pop():new n,t.task=e,i(t)}function n(){this.task=null}var i=require("./raw"),r=[],o=[],s=i.makeRequestCallFromTimer(e);module.exports=t,n.prototype.call=function(){try{this.task.call()}catch(e){t.onerror?t.onerror(e):(o.push(e),s())}finally{this.task=null,r[r.length]=this}}},{"./raw":93}],93:[function(require,module,exports){(function(e){"use strict";function t(e){o.length||(r(),s=!0),o[o.length]=e}function n(){for(;a<o.length;){var e=a;if(a+=1,o[e].call(),a>l){for(var t=0,n=o.length-a;t<n;t++)o[t]=o[t+a];o.length-=a,a=0}}o.length=0,a=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(i),e()}var n=setTimeout(t,0),i=setInterval(t,50)}}module.exports=t;var r,o=[],s=!1,a=0,l=1024,u=e.MutationObserver||e.WebKitMutationObserver;r="function"==typeof u?function(e){var t=1,n=new u(e),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){t=-t,i.data=t}}(n):i(n),t.requestFlush=r,t.makeRequestCallFromTimer=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],94:[function(require,module,exports){"use strict";function e(){}function t(e){try{return e.then}catch(e){return d=e,v}}function n(e,t){try{return e(t)}catch(e){return d=e,v}}function i(e,t,n){try{e(t,n)}catch(e){return d=e,v}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,t!==e&&f(t,this)}function o(t,n,i){return new t.constructor(function(o,a){var l=new r(e);l.then(o,a),s(t,new h(n,i,l))})}function s(e,t){for(;3===e._81;)e=e._65;if(r._10&&r._10(e),0===e._81)return 0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t);a(e,t)}function a(e,t){p(function(){var i=1===e._81?t.onFulfilled:t.onRejected;if(null===i)return void(1===e._81?l(t.promise,e._65):u(t.promise,e._65));var r=n(i,e._65);r===v?u(t.promise,d):l(t.promise,r)})}function l(e,n){if(n===e)return u(e,new TypeError("A promise cannot be resolved with itself."));if(n&&("object"==typeof n||"function"==typeof n)){var i=t(n);if(i===v)return u(e,d);if(i===e.then&&n instanceof r)return e._81=3,e._65=n,void c(e);if("function"==typeof i)return void f(i.bind(n),e)}e._81=1,e._65=n,c(e)}function u(e,t){e._81=2,e._65=t,r._97&&r._97(e,t),c(e)}function c(e){if(1===e._45&&(s(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)s(e,e._54[t]);e._54=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1,r=i(e,function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,u(t,e))});n||r!==v||(n=!0,u(t,d))}var p=require("asap/raw"),d=null,v={};module.exports=r,r._10=null,r._97=null,r._61=e,r.prototype.then=function(t,n){if(this.constructor!==r)return o(this,t,n);var i=new r(e);return s(this,new h(t,n,i)),i}},{"asap/raw":93}],95:[function(require,module,exports){"use strict";function e(e){var n=new t(t._61);return n._81=1,n._65=e,n}var t=require("./core.js");module.exports=t;var n=e(!0),i=e(!1),r=e(null),o=e(void 0),s=e(0),a=e("");t.resolve=function(l){if(l instanceof t)return l;if(null===l)return r;if(void 0===l)return o;if(l===!0)return n;if(l===!1)return i;if(0===l)return s;if(""===l)return a;if("object"==typeof l||"function"==typeof l)try{var u=l.then;if("function"==typeof u)return new t(u.bind(l))}catch(e){return new t(function(t,n){n(e)})}return e(l)},t.all=function(e){var n=Array.prototype.slice.call(e);return new t(function(e,i){function r(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof t&&a.then===t.prototype.then){for(;3===a._81;)a=a._65;return 1===a._81?r(s,a._65):(2===a._81&&i(a._65),void a.then(function(e){r(s,e)},i))}var l=a.then;if("function"==typeof l){return void new t(l.bind(a)).then(function(e){r(s,e)},i)}}n[s]=a,0==--o&&e(n)}if(0===n.length)return e([]);for(var o=n.length,s=0;s<n.length;s++)r(s,n[s])})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(n,i){e.forEach(function(e){t.resolve(e).then(n,i)})})},t.prototype.catch=function(e){return this.then(null,e)}},{"./core.js":94}],96:[function(require,module,exports){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(e,t){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})})},{}],97:[function(require,module,exports){require("asap");"undefined"==typeof Promise&&(Promise=require("./lib/core.js"),require("./lib/es6-extensions.js")),require("./polyfill-done.js")},{"./lib/core.js":94,"./lib/es6-extensions.js":95,"./polyfill-done.js":96,asap:92}]},{},[2])(2)});