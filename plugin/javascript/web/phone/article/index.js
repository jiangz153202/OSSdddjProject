+function(e,t){var n={init:function(e){e=this.setOptions(e||{}),this.initPage(e)},setOptions:function(n){return n.this=this,n.listContainer=t.getElementById("list-container"),n.getArticleUrl=common.config.appPath+"/api/article/list",n.pullrefresh=e("#pullrefresh"),n},initPage:function(t){e.init({pullRefresh:{container:"#pullrefresh",up:{contentrefresh:"正在加载...",contentnomore:"底线在此,不要再拉啦~",callback:function(){t.this.pullupRefresh(t)}}}}),document.body.setAttribute("data-pageIndex",0),e.os.plus?e.plusReady(function(){setTimeout(function(){t.pullrefresh.pullRefresh().pullupLoading()},1e3)}):e.ready(function(){t.pullrefresh.pullRefresh().pullupLoading()}),e(".mui-bar-transparent").transparent({top:0,offset:150,duration:16,scrollby:document.querySelector(".mui-scroll-wrapper")}),e(".mui-bar-transparent").on("alpha",function(e){var t=e.detail.alpha;console.log(t)})},pullupRefresh:function(e){var n=t.body.getAttribute("data-pageIndex");n=parseInt(n)+1,t.body.setAttribute("data-pageIndex",n);var l={urlPath:e.getArticleUrl,data:{pageIndex:n,pageSize:6,sid:AjaxCommon.cookieItem.getCookie("dddjsid")},onBeforeSend:function(){},onSuccess:function(t){if(0==t.status&&null!=t.data&&t.data.content.length>0){var n=template("tmpl-model",t.data);e.listContainer.innerHTML+=n,AjaxCommon.pageInit(e.listContainer),e.pullrefresh.pullRefresh().endPullupToRefresh(!t.data.hasNextPage)}else e.pullrefresh.pullRefresh().endPullupToRefresh(!0),""==e.listContainer.innerHTML.trim()&&(e.listContainer.innerHTML=document.getElementById("tmpl-model-null").innerHTML)},onError:function(){console.log("失败回调"),e.pullrefresh.pullRefresh().endPullupToRefresh(!0),""==e.listContainer.innerHTML.trim()&&(e.listContainer.innerHTML=document.getElementById("tmpl-model-null").innerHTML)}};AjaxCommon.getAjaxRequestJson(l)}};window.articleIndex=n}(mui,document);