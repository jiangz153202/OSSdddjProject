+function(e,t){var n={init:function(e){e=this.setOptions(e||{}),AjaxCommon.cookieItem.getCookie("dddjsid",function(t){e.sid=t,e.this.initPage(e)})},setOptions:function(n){return n.this=this,n.pullrefresh=e("#pullrefresh"),n.listContainer=t.getElementById("list-container"),n.listTagGoodsUrl=common.config.appPath+"/api/goods/listTagGoods",n.tagId=void 0==common.queryToJSON().tagId?"":common.queryToJSON().tagId,n.getListTagsUrl=common.config.appPath+"/api/goods/listTags",n},initPage:function(t){e.init({pullRefresh:{container:"#pullrefresh",up:{contentrefresh:"正在加载...",contentnomore:"底线在此,不要再拉啦~",callback:function(){t.this.pullupRefresh(t)}}}}),t.this.checkListTags(t,function(){document.body.setAttribute("data-pageIndex",0),e.os.plus?e.plusReady(function(){setTimeout(function(){t.pullrefresh.pullRefresh().pullupLoading()},1e3)}):e.ready(function(){t.pullrefresh.pullRefresh().pullupLoading()})})},pullupRefresh:function(n){var o=t.body.getAttribute("data-pageIndex");o=parseInt(o)+1,t.body.setAttribute("data-pageIndex",o);var i={urlPath:n.listTagGoodsUrl,data:{sid:n.sid,tagId:n.tagId,pageIndex:o},onSuccess:function(t){if(0==t.status&&null!=t.data&&t.data.content.length>0){var o=template("tmpl-model",t.data);n.listContainer.innerHTML+=o,AjaxCommon.pageInit(n.listContainer),e("body").muiBackTop({wapperType:"odd",fixedBottom:50}),n.pullrefresh.pullRefresh().endPullupToRefresh(!t.data.hasNextPage)}else n.pullrefresh.pullRefresh().endPullupToRefresh(!0),""==n.listContainer.innerHTML.trim()&&(n.listContainer.classList.add("clearBg"),n.listContainer.innerHTML=document.getElementById("tmpl-model-null").innerHTML)},onError:function(){console.log("失败回调")}};AjaxCommon.getAjaxRequestJson(i)},checkListTags:function(t,n){var o={urlPath:t.getListTagsUrl,data:{sid:t.sid},onSuccess:function(o){e(o.data).each(function(e,o){o.id==t.tagId&&(document.title=o.name,document.getElementById("file-img").src=o.headerImgUrl,"function"==typeof n&&n())})},onError:function(){console.log("失败回调")}};AjaxCommon.getAjaxRequestJson(o)}};window.brands=n}(mui,document);