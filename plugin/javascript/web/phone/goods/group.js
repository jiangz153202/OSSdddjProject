+function(t,o,e){"use strict";var n={init:function(e){e=this.setOptions(e||{}),t.init(),this.initGetTagsUrl(e),null!=o.querySelector(".d-head-search input")&&o.querySelector(".d-head-search input").addEventListener("tap",function(){})},setOptions:function(t){return t.this=this,t.scale=.56,t.classificationUrl=common.config.rootPath+"/phone/goods/classification.html",t.getRootsUrl=common.config.carAppPath+"/capi/goods/cat/root.json",t.getchildrenGoodsUrl=common.config.carAppPath+"/capi/goods/cat/children/",t.getGoodsListUrl=common.config.rootPath+"/api/goods/getlist",t.addCartUrl=common.config.rootPath+"/api/cart/add",t.bodyContainer=o.getElementById("body-container"),t.tmplHtmlModelEmpty=o.getElementById("tmpl-model-null"),t},initGetTagsUrl:function(o){var e={urlPath:o.getRootsUrl,data:{},onSuccess:function(e){if(1==e.head.bcode){var n=template("tmpl-groups",e.data);o.bodyContainer.innerHTML+=n,o.controls=document.getElementById("segmentedControls"),o.contents=document.getElementById("segmentedControlContents"),o.this.initLeftListEvents(o),null==o.this.getActiveProductContainer()&&(o.controls.querySelector(".mui-control-item").classList.add("mui-active"),o.contents.querySelector(".mui-control-content").classList.add("mui-active")),t.os.plus?t.plusReady(function(){setTimeout(function(){o.this.pullUpLoadGoodsGroup(o)},1e3)}):t.ready(function(){o.this.pullUpLoadGoodsGroup(o)})}else common.alert({msg:"提交出错"})},onError:function(){console.log("失败回调")},onComplete:function(){t("#"+o.defaultCartPopover).popover("toggle")}};AjaxCommon.getAjaxRequestJson(e)},initLeftListEvents:function(t){for(var o=t.controls.querySelectorAll(".mui-control-item"),e=0;e<o.length;e++){o[e].addEventListener("tap",function(){setTimeout(function(){t.this.pullUpLoadGoodsGroup(t)},500)})}},getActiveProductContainer:function(){return o.querySelector(".mui-control-content.mui-active")},getScrollContainers:function(){return t(".mui-scroll")},pullUpLoadGoodsGroup:function(o){var e=o.this.getActiveProductContainer();if(null==e)return common.alert({msg:"获取当前模块出错"}),!1;var n=e.querySelector(".product-list-container .list-container"),i=o.getchildrenGoodsUrl+e.dataset.id+".json",r={urlPath:i,data:{},onSuccess:function(o){if(1==o.head.bcode){var e=template("tmpl-model",o.data);n.innerHTML=e,t(n).on("tap","a",function(){var t=this.dataset.targettype,o=this.dataset.targetid,e=this;AjaxCommon.switchTarget(t,o,e)}),t(".mui-slider").slider({interval:1500});var i=t.os.ios?.003:9e-4;t(".mui-scroll-wrapper").scroll({bounce:!1,indicators:!1,deceleration:i})}else common.alert({msg:"提交出错"})},onError:function(){console.log("失败回调")},onComplete:function(){}};""==n.innerHTML.trim()&&AjaxCommon.getAjaxRequestJson(r)}};window.dailygroups=n}(mui,document);