+function(e,a,t){"use strict";var o={};o.wechatConfig=function(e,n){var r={debug:!1,appId:"",timestamp:(new Date).getTime(),nonceStr:Math.random().toString(36).substr(2),signature:"",jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onVoiceRecordEnd","playVoice","onVoicePlayEnd","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"]};e.shareData!=t&&null!=e.shareData||(e.shareData={title:"DD订酒,即刻就有",link:common.config.homeUrl,imgUrl:"http://dddingjiu.com/images/m/lg.png",desc:"随手订酒，即刻就有"});var h={urlPath:common.config.appPath+"/api/wechat/getJSSDKData",data:{timestamp:r.timestamp,nonceStr:r.nonceStr,url:a.location.href.split("#")[0]},onSuccess:function(a){r.signature=a.data.signature,r.appId=a.data.appId,o.wechatInvoke(r,e,n)},onError:function(e){console.log("失败回调")}};AjaxCommon.getAjaxRequestJson(h)},o.wechatInvoke=function(e,a,t){var n=a.shareData;wx.config({debug:e.debug,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onVoiceRecordEnd","playVoice","onVoicePlayEnd","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"]}),wx.ready(function(){o.shareWx(a,n),"function"==typeof t&&t(a)})},o.wechatShare=function(e){var a={urlPath:common.config.appPath+"/api/user/wechatshare",data:{url:e.shareData.wechatShare.url,dataSource:e.shareData.wechatShare.dataSource,dataId:e.shareData.wechatShare.dataId,storeId:e.shareData.wechatShare.storeId==t?"":e.shareData.wechatShare.storeId,shareType:e.shareData.wechatShare.shareType,identification:e.shareData.wechatShare.identification,shareTitle:e.shareData.wechatShare.shareTitle,shareContent:e.shareData.wechatShare.shareContent,shareImgUrl:e.shareData.wechatShare.shareImgUrl,toUrl:e.shareData.wechatShare.toUrl==t?"":e.shareData.wechatShare.toUrl},onSuccess:function(e){console.log("分享成功了")},onError:function(e){console.log("失败回调")}};AjaxCommon.getAjaxRequestJson(a)},o.shareWx=function(e,a){wx.onMenuShareAppMessage({title:a.title,link:a.link,imgUrl:a.imgUrl,desc:a.desc,success:function(){e.shareData.wechatShare!=t&&e.shareData.wechatShare.shareType!=t&&(e.shareData.wechatShare.shareType="friend",e.shareData.wechatShare.shareTitle=a.title,e.shareData.wechatShare.shareContent=a.desc,e.shareData.wechatShare.shareImgUrl=a.imgUrl,o.wechatShare(e))},cancel:function(){}}),wx.onMenuShareTimeline({title:a.title,link:a.link,imgUrl:a.imgUrl,success:function(){e.shareData.wechatShare!=t&&e.shareData.wechatShare.shareType!=t&&(e.shareData.wechatShare.shareType="friendCircle",e.shareData.wechatShare.shareTitle=a.title,e.shareData.wechatShare.shareContent=a.desc,e.shareData.wechatShare.shareImgUrl=a.imgUrl,o.wechatShare(e))},cancel:function(){}}),wx.onMenuShareQQ({title:a.title,link:a.link,imgUrl:a.imgUrl,desc:a.desc,success:function(){},cancel:function(){}})},a._wxShareApi=o}(mui,window,void 0);